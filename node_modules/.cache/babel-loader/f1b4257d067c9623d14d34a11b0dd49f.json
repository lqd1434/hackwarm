{"remainingRequest":"/Users/lqd/WebstormProjects/warm/node_modules/babel-loader/lib/index.js!/Users/lqd/WebstormProjects/warm/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/lqd/WebstormProjects/warm/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lqd/WebstormProjects/warm/src/views/Home/ViewPost.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lqd/WebstormProjects/warm/src/views/Home/ViewPost.vue","mtime":1618725886131},{"path":"/Users/lqd/WebstormProjects/warm/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lqd/WebstormProjects/warm/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/lqd/WebstormProjects/warm/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lqd/WebstormProjects/warm/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgY3JlYXRlTmFtZXNwYWNlZEhlbHBlcnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKY29uc3QgewogIG1hcE11dGF0aW9ucywKICBtYXBTdGF0ZQp9ID0gY3JlYXRlTmFtZXNwYWNlZEhlbHBlcnMoJ3dhcm0nKTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJWaWV3UG9zdCIsCgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpc1Nob3dCZzogZmFsc2UsCiAgICAgIHBvc3RUaXRsZTogJycsCiAgICAgIGNvbnRlbnQ6ICcnLAogICAgICBwb3N0RW50aXR5OiB7fQogICAgfTsKICB9LAoKICBjb21wdXRlZDogeyAuLi5tYXBTdGF0ZShbJ3ZpZXdDb250ZW50SWQnXSkKICB9LAoKICBtb3VudGVkKCkgewogICAgdGhpcy5zZXRWaWV3Q29udGVudCh0aGlzLnZpZXdDb250ZW50SWQpOwogICAgdGhpcy5jaGFuZ2VJc1Nob3dGb290ZXJNZW51KGZhbHNlKTsKICB9LAoKICBtZXRob2RzOiB7IC4uLm1hcE11dGF0aW9ucyhbJ2NoYW5nZUlzU2hvd0Zvb3Rlck1lbnUnLCAnc2V0VGFsa1RvV2hvJ10pLAoKICAgIGdldFBvc3QoaWQpIHsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gewogICAgICAgIGF4aW9zKHsKICAgICAgICAgIHVybDogJy9hcGkvcG9zdC8nICsgaWQsCiAgICAgICAgICBtZXRob2Q6ICdnZXQnCiAgICAgICAgfSkudGhlbihyZXMgPT4gewogICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICAgIHJlc29sdmUocmVzLmRhdGEpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCgogICAgdGFsa1dpdGgoKSB7CiAgICAgIHRoaXMuaXNTaG93QmcgPSBmYWxzZTsKICAgICAgdGhpcy5zZXRUYWxrVG9XaG8odGhpcy5wb3N0RW50aXR5LlVzZXJJZCk7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvdGFsa1dpbicpOwogICAgfSwKCiAgICBjYW5jZWwoKSB7CiAgICAgIHRoaXMuaXNTaG93QmcgPSBmYWxzZTsKICAgIH0sCgogICAgY29tZUJhY2soKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvaG9tZScpOwogICAgfSwKCiAgICBTaG93VmlldygpIHsKICAgICAgdGhpcy5pc1Nob3dCZyA9IHRydWU7CiAgICAgIHRoaXMuZ2V0UG9zdCh0aGlzLnZpZXdDb250ZW50SWQpLnRoZW4ocmVzID0+IHsKICAgICAgICBpZiAocmVzLmNvZGUgPT09IDApIHsKICAgICAgICAgIHRoaXMucG9zdEVudGl0eSA9IHJlcy5kYXRhLnBvc3Q7CiAgICAgICAgfQoKICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICB9KTsKICAgIH0sCgogICAgc2V0Vmlld0NvbnRlbnQoZGF0YSkgewogICAgICBpZiAoZGF0YSA9PT0gMikgewogICAgICAgIHRoaXMuY29udGVudCA9ICfovbvngrnpgYfop4Hlv6vkuZAnOwogICAgICB9IGVsc2UgaWYgKGRhdGEgPT09IDMpIHsKICAgICAgICB0aGlzLmNvbnRlbnQgPSAn6L2754K55YC+5ZCs54Om5oG8JzsKICAgICAgfSBlbHNlIGlmIChkYXRhID09PSAxKSB7CiAgICAgICAgdGhpcy5jb250ZW50ID0gJ+i9u+eCueWQjOelneagoeW6hic7CiAgICAgIH0KICAgIH0KCiAgfQp9Ow=="},{"version":3,"sources":["ViewPost.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA,SAAA,uBAAA,QAAA,MAAA;AACA,OAAA,KAAA,MAAA,OAAA;AACA,MAAA;AAAA,EAAA,YAAA;AAAA,EAAA;AAAA,IAAA,uBAAA,CAAA,MAAA,CAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,UADA;;AAEA,EAAA,IAAA,GAAA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,KADA;AAEA,MAAA,SAAA,EAAA,EAFA;AAGA,MAAA,OAAA,EAAA,EAHA;AAIA,MAAA,UAAA,EAAA;AAJA,KAAA;AAMA,GATA;;AAUA,EAAA,QAAA,EAAA,EACA,GAAA,QAAA,CAAA,CAAA,eAAA,CAAA;AADA,GAVA;;AAaA,EAAA,OAAA,GAAA;AACA,SAAA,cAAA,CAAA,KAAA,aAAA;AACA,SAAA,sBAAA,CAAA,KAAA;AACA,GAhBA;;AAiBA,EAAA,OAAA,EAAA,EACA,GAAA,YAAA,CAAA,CAAA,wBAAA,EAAA,cAAA,CAAA,CADA;;AAEA,IAAA,OAAA,CAAA,EAAA,EAAA;AACA,aAAA,IAAA,OAAA,CAAA,OAAA,IAAA;AACA,QAAA,KAAA,CAAA;AACA,UAAA,GAAA,EAAA,eAAA,EADA;AAEA,UAAA,MAAA,EAAA;AAFA,SAAA,CAAA,CAGA,IAHA,CAGA,GAAA,IAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,IAAA,CAAA;AACA,SANA;AAOA,OARA,CAAA;AAUA,KAbA;;AAcA,IAAA,QAAA,GAAA;AACA,WAAA,QAAA,GAAA,KAAA;AACA,WAAA,YAAA,CAAA,KAAA,UAAA,CAAA,MAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,UAAA;AACA,KAlBA;;AAmBA,IAAA,MAAA,GAAA;AACA,WAAA,QAAA,GAAA,KAAA;AACA,KArBA;;AAsBA,IAAA,QAAA,GAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,OAAA;AACA,KAxBA;;AAyBA,IAAA,QAAA,GAAA;AACA,WAAA,QAAA,GAAA,IAAA;AACA,WAAA,OAAA,CAAA,KAAA,aAAA,EAAA,IAAA,CAAA,GAAA,IAAA;AACA,YAAA,GAAA,CAAA,IAAA,KAAA,CAAA,EAAA;AACA,eAAA,UAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA;AACA;;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,OALA;AAMA,KAjCA;;AAkCA,IAAA,cAAA,CAAA,IAAA,EAAA;AACA,UAAA,IAAA,KAAA,CAAA,EAAA;AACA,aAAA,OAAA,GAAA,QAAA;AACA,OAFA,MAEA,IAAA,IAAA,KAAA,CAAA,EAAA;AACA,aAAA,OAAA,GAAA,QAAA;AACA,OAFA,MAEA,IAAA,IAAA,KAAA,CAAA,EAAA;AACA,aAAA,OAAA,GAAA,QAAA;AACA;AACA;;AA1CA;AAjBA,CAAA","sourcesContent":["<template>\n  <div>\n    <div>\n      <img src=\"/images/view-1.png\" class=\"bd-send\" @click=\"ShowView\">\n      <div class=\"bd-back\" id=\"bd-back\" @click=\"comeBack\">\n        <van-icon name=\"arrow-left\" :color=\"'white'\" />\n        <span>返回</span>\n      </div>\n      <div class=\"bd-content\">\n        <h3>{{ this.content }}</h3>\n      </div>\n    </div>\n    <div>\n      <img src=\"/images/bg-view.png\" class=\"bd-view\">\n      <div id=\"dialog-view\">\n        <van-dialog\n            v-model=\"isShowBg\"\n            :title=\"''\"\n            confirm-button-text=\"回复\"\n            cancel-button-text=\"返回\"\n            show-cancel-button\n            :overlay=\"false\"\n            @confirm=\"talkWith\"\n            @cancel=\"cancel\"\n        >\n          <div class=\"dialog-content mt-4\">\n            <div>\n              <h3 style=\"text-align: center;color: coral\">{{ postEntity.Title }}</h3>\n            </div>\n            <div class=\"mt-3 pl-1\">\n              <p style=\"font-size: 18px\">{{ postEntity.Content }}</p>\n            </div>\n          </div>\n        </van-dialog>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {createNamespacedHelpers} from 'vuex'\nimport axios from \"axios\";\nconst { mapMutations,mapState } = createNamespacedHelpers('warm')\n\nexport default {\n  name: \"ViewPost\",\n  data(){\n    return{\n      isShowBg:false,\n      postTitle: '',\n      content:'',\n      postEntity:{}\n    }\n  },\n  computed:{\n    ...mapState(['viewContentId'])\n  },\n  mounted() {\n    this.setViewContent(this.viewContentId)\n    this.changeIsShowFooterMenu(false)\n  },\n  methods:{\n    ...mapMutations(['changeIsShowFooterMenu','setTalkToWho']),\n    getPost(id){\n      return new Promise((resolve)=>{\n        axios({\n          url: '/api/post/'+id,\n          method:'get'\n        }).then((res)=>{\n          console.log(res)\n          resolve(res.data)\n        })\n      })\n\n    },\n    talkWith(){\n      this.isShowBg = false\n      this.setTalkToWho(this.postEntity.UserId)\n      this.$router.push('/talkWin')\n    },\n    cancel(){\n      this.isShowBg = false\n    },\n    comeBack(){\n      this.$router.push('/home')\n    },\n    ShowView(){\n      this.isShowBg = true\n      this.getPost(this.viewContentId).then((res)=>{\n        if (res.code === 0){\n          this.postEntity = res.data.post\n        }\n        console.log(res)\n      })\n    },\n    setViewContent(data){\n      if(data===2){\n        this.content = '轻点遇见快乐'\n      } else if(data===3){\n        this.content = '轻点倾听烦恼'\n      }else if(data===1){\n        this.content = '轻点同祝校庆'\n      }\n    }\n  }\n\n}\n</script>\n\n<style scoped>\n.bd-send{\n  position: absolute;\n  z-index: 1;\n  width: 100%;\n}\n.bd-content{\n  position: absolute;\n  bottom: 2rem;\n  left: 32%;\n  z-index: 2;\n  color: white;\n}\n.bd-back{\n  position: absolute;\n  padding-left: 2.2rem;\n  margin-top: 13%;\n  font-size: 22px;\n  color: white;\n  z-index: 2;\n}\n.dialog-content{\n  height: 20rem;\n}\n</style>\n<style>\n#bd-back .van-nav-bar__text, .van-nav-bar__title, .van-icon-arrow-left::before{\n  color: white;\n  font-size: 20px;\n}\n#dialog-view .van-dialog{\n  background: linear-gradient(to bottom,rgba(255,255,255,0.2),#C9F0EE);\n  border: #65CAAD 1px solid;\n}\n#dialog-view .van-dialog__header{\n  color: #65CAAD;\n  font-size: 24px;\n  font-weight: bolder;\n}\n#dialog-view .van-button--default{\n  background: #F89E84;\n  border-radius: 2rem;\n  margin-right: 1rem;\n  margin-left: 1rem;\n  margin-bottom: 0.5rem;\n  color: white;\n}\n#dialog-view .van-dialog__content{\n  width: 100%;\n  height: 80%!important;\n  color: #A482ED;\n  font-size: 20px;\n  padding-left: 1rem;\n  background-color: rgba(255,255,255,0.2);\n}\n</style>\n"],"sourceRoot":"src/views/Home"}]}