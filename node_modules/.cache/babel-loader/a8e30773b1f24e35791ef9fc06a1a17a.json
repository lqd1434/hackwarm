{"remainingRequest":"/Users/lqd/WebstormProjects/warm/node_modules/babel-loader/lib/index.js!/Users/lqd/WebstormProjects/warm/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/lqd/WebstormProjects/warm/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lqd/WebstormProjects/warm/src/components/Main.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lqd/WebstormProjects/warm/src/components/Main.vue","mtime":1618463713966},{"path":"/Users/lqd/WebstormProjects/warm/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lqd/WebstormProjects/warm/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/lqd/WebstormProjects/warm/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lqd/WebstormProjects/warm/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lqd/WebstormProjects/warm/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lqd/WebstormProjects/warm/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/lqd/WebstormProjects/warm/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lqd/WebstormProjects/warm/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgY3JlYXRlTmFtZXNwYWNlZEhlbHBlcnMgfSBmcm9tICd2dWV4JzsKY29uc3QgewogIG1hcE11dGF0aW9ucywKICBtYXBBY3Rpb25zLAogIG1hcFN0YXRlCn0gPSBjcmVhdGVOYW1lc3BhY2VkSGVscGVycygnd2FybScpOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ01haW4nLAogIGNvbXB1dGVkOiB7IC4uLm1hcFN0YXRlKFsnaXNTaG93Rm9vdGVyTWVudSddKQogIH0sCgogIG1vdW50ZWQoKSB7CiAgICAvLyB0aGlzLm9wZW5Tb2NrZXQoKQogICAgdGhpcy4kcm91dGVyLnB1c2goJy9ob21lJyk7CiAgfSwKCiAgbWV0aG9kczogeyAuLi5tYXBNdXRhdGlvbnMoWyd0ZXN0JywgJ2FkZE1lc3NhZ2VIaXN0b3J5JywgJ3NldFNvY2tldCddKSwKICAgIC4uLm1hcEFjdGlvbnMoWyd0ZXN0QWN0aW9uJ10pLAoKICAgIGRvVGVzdCgpIHsKICAgICAgdGhpcy50ZXN0KCflk4jlk4gnKTsKICAgICAgdGhpcy50ZXN0QWN0aW9uKCdoaCcpOwogICAgfSwKCiAgICBhbmltYXRlKGRhdGEpIHsKICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRhdGEpOwogICAgICBlbGVtZW50LnN0eWxlLnRyYW5zaXRpb24gPSAndHJhbnNmb3JtIDE1MG1zIGxpbmVhcic7CiAgICAgIGVsZW1lbnQuc3R5bGUudHJhbnNmb3JtT3JpZ2luID0gJzUwJSAwJSc7CiAgICAgIGVsZW1lbnQuc3R5bGUudHJhbnNmb3JtID0gJ3JvdGF0ZSgzMGRlZyknOwogICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICBlbGVtZW50LnN0eWxlLnRyYW5zZm9ybSA9ICdyb3RhdGUoLTMwZGVnKSc7CiAgICAgIH0sIDE1MCk7CiAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIGVsZW1lbnQuc3R5bGUudHJhbnNmb3JtID0gJ3JvdGF0ZSgwZGVnKSc7CiAgICAgIH0sIDMwMCk7CiAgICB9LAoKICAgIG9wZW5Tb2NrZXQoKSB7CiAgICAgIGlmICh0eXBlb2YgV2ViU29ja2V0ID09PSAndW5kZWZpbmVkJykgewogICAgICAgIGNvbnNvbGUubG9nKCfmgqjnmoTmtY/op4jlmajkuI3mlK/mjIFXZWJTb2NrZXQnKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zb2xlLmxvZygn5oKo55qE5rWP6KeI5Zmo5pSv5oyBV2ViU29ja2V0Jyk7CiAgICAgICAgbGV0IHNvY2tldFVybCA9ICdodHRwOi8vbG9jYWxob3N0OjgwODkvY2hhdC8nICsgdGhpcy51c2VyLmlkOwogICAgICAgIHNvY2tldFVybCA9IHNvY2tldFVybC5yZXBsYWNlKCdodHRwcycsICd3cycpLnJlcGxhY2UoJ2h0dHAnLCAnd3MnKTsKICAgICAgICB0aGlzLnNldFNvY2tldChuZXcgV2ViU29ja2V0KHNvY2tldFVybCkpOyAvLyB0aGlzLnNvY2tldCA9IG5ldyBXZWJTb2NrZXQoc29ja2V0VXJsKQogICAgICAgIC8vIOaJk+W8gOS6i+S7tgoKICAgICAgICB0aGlzLnNvY2tldC5vbm9wZW4gPSAoKSA9PiB7CiAgICAgICAgICB0aGlzLiR0b2FzdCh7CiAgICAgICAgICAgIG1lc3NhZ2U6ICd3ZWJzb2NrZXTlt7LmiZPlvIAnLAogICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgICAgIH0pOwogICAgICAgIH07IC8vIOiOt+W+l+a2iOaBr+S6i+S7tgoKCiAgICAgICAgdGhpcy5zb2NrZXQub25tZXNzYWdlID0gbXNnID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKG1zZyk7CiAgICAgICAgICB0aGlzLmFkZE1lc3NhZ2VIaXN0b3J5KG1zZyk7CiAgICAgICAgfTsKICAgICAgfSAvLyDlj5HnlJ/kuobplJnor6/kuovku7YKCgogICAgICB0aGlzLnNvY2tldC5vbmVycm9yID0gZnVuY3Rpb24gKCkgewogICAgICAgIGNvbnNvbGUubG9nKCd3ZWJzb2NrZXTlj5HnlJ/kuobplJnor68nKTsKICAgICAgfTsKICAgIH0KCiAgfQp9Ow=="},{"version":3,"sources":["Main.vue"],"names":[],"mappings":";;;;;;;;;;;;;;AAeA,SAAA,uBAAA,QAAA,MAAA;AAEA,MAAA;AAAA,EAAA,YAAA;AAAA,EAAA,UAAA;AAAA,EAAA;AAAA,IAAA,uBAAA,CAAA,MAAA,CAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,MADA;AAEA,EAAA,QAAA,EAAA,EACA,GAAA,QAAA,CAAA,CAAA,kBAAA,CAAA;AADA,GAFA;;AAKA,EAAA,OAAA,GAAA;AACA;AACA,SAAA,OAAA,CAAA,IAAA,CAAA,OAAA;AACA,GARA;;AASA,EAAA,OAAA,EAAA,EACA,GAAA,YAAA,CAAA,CAAA,MAAA,EAAA,mBAAA,EAAA,WAAA,CAAA,CADA;AAEA,OAAA,UAAA,CAAA,CAAA,YAAA,CAAA,CAFA;;AAGA,IAAA,MAAA,GAAA;AACA,WAAA,IAAA,CAAA,IAAA;AACA,WAAA,UAAA,CAAA,IAAA;AACA,KANA;;AAOA,IAAA,OAAA,CAAA,IAAA,EAAA;AACA,YAAA,OAAA,GAAA,QAAA,CAAA,cAAA,CAAA,IAAA,CAAA;AACA,MAAA,OAAA,CAAA,KAAA,CAAA,UAAA,GAAA,wBAAA;AACA,MAAA,OAAA,CAAA,KAAA,CAAA,eAAA,GAAA,QAAA;AACA,MAAA,OAAA,CAAA,KAAA,CAAA,SAAA,GAAA,eAAA;AACA,MAAA,UAAA,CAAA,MAAA;AACA,QAAA,OAAA,CAAA,KAAA,CAAA,SAAA,GAAA,gBAAA;AACA,OAFA,EAEA,GAFA,CAAA;AAGA,MAAA,UAAA,CAAA,MAAA;AACA,QAAA,OAAA,CAAA,KAAA,CAAA,SAAA,GAAA,cAAA;AACA,OAFA,EAEA,GAFA,CAAA;AAGA,KAlBA;;AAmBA,IAAA,UAAA,GAAA;AACA,UAAA,OAAA,SAAA,KAAA,WAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,mBAAA;AACA,OAFA,MAEA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,kBAAA;AACA,YAAA,SAAA,GAAA,gCAAA,KAAA,IAAA,CAAA,EAAA;AACA,QAAA,SAAA,GAAA,SAAA,CAAA,OAAA,CAAA,OAAA,EAAA,IAAA,EAAA,OAAA,CAAA,MAAA,EAAA,IAAA,CAAA;AACA,aAAA,SAAA,CAAA,IAAA,SAAA,CAAA,SAAA,CAAA,EAJA,CAKA;AACA;;AACA,aAAA,MAAA,CAAA,MAAA,GAAA,MAAA;AACA,eAAA,MAAA,CAAA;AACA,YAAA,OAAA,EAAA,cADA;AAEA,YAAA,IAAA,EAAA;AAFA,WAAA;AAIA,SALA,CAPA,CAaA;;;AACA,aAAA,MAAA,CAAA,SAAA,GAAA,GAAA,IAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,eAAA,iBAAA,CAAA,GAAA;AACA,SAHA;AAIA,OArBA,CAsBA;;;AACA,WAAA,MAAA,CAAA,OAAA,GAAA,YAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,gBAAA;AACA,OAFA;AAGA;;AA7CA;AATA,CAAA","sourcesContent":["<template>\n    <div>\n      <router-view></router-view>\n      <div class=\"footer-tabbar\" v-if=\"this.isShowFooterMenu\">\n        <van-tabbar route style=\"overflow: hidden\">\n          <van-tabbar-item replace to=\"/home\" icon=\"bi bi-house-door-fill\" :id=\"'1'\" @click=\"animate('1')\">主页</van-tabbar-item>\n          <van-tabbar-item replace to=\"/treeHole\" icon=\"bi bi-collection-fill\" :id=\"'2'\" @click=\"animate('2')\">树洞</van-tabbar-item>\n          <van-tabbar-item replace to=\"/talkList\" icon=\"bi bi-chat-dots-fill\" :id=\"'3'\" @click=\"animate('3')\">消息</van-tabbar-item>\n          <van-tabbar-item replace to=\"/mine\" icon=\"bi bi-person-circle\" :id=\"'4'\" @click=\"animate('4')\">我的</van-tabbar-item>\n        </van-tabbar>\n      </div>\n    </div>\n</template>\n\n<script>\nimport {createNamespacedHelpers} from 'vuex'\n\nconst { mapMutations, mapActions,mapState } = createNamespacedHelpers('warm')\nexport default {\n  name: 'Main',\n  computed:{\n    ...mapState(['isShowFooterMenu'])\n  },\n  mounted () {\n    // this.openSocket()\n    this.$router.push('/home')\n  },\n  methods:{\n    ...mapMutations(['test','addMessageHistory','setSocket']),\n    ...mapActions(['testAction']),\n    doTest(){\n      this.test('哈哈')\n      this.testAction('hh')\n    },\n    animate (data){\n      const element = document.getElementById(data)\n      element.style.transition = 'transform 150ms linear'\n      element.style.transformOrigin='50% 0%'\n      element.style.transform = 'rotate(30deg)'\n      setTimeout(()=>{\n        element.style.transform = 'rotate(-30deg)'\n      },150)\n      setTimeout(()=>{\n        element.style.transform = 'rotate(0deg)'\n      },300)\n    },\n    openSocket () {\n      if (typeof (WebSocket) === 'undefined') {\n        console.log('您的浏览器不支持WebSocket')\n      } else {\n        console.log('您的浏览器支持WebSocket')\n        let socketUrl = 'http://localhost:8089/chat/' + this.user.id\n        socketUrl = socketUrl.replace('https', 'ws').replace('http', 'ws')\n        this.setSocket(new WebSocket(socketUrl))\n        // this.socket = new WebSocket(socketUrl)\n        // 打开事件\n        this.socket.onopen = () => {\n          this.$toast({\n            message: 'websocket已打开',\n            type: 'success'\n          })\n        }\n        // 获得消息事件\n        this.socket.onmessage = (msg) => {\n            console.log(msg)\n            this.addMessageHistory(msg)\n          }\n        }\n        // 发生了错误事件\n        this.socket.onerror = function () {\n          console.log('websocket发生了错误')\n        }\n      }\n    }\n}\n</script>\n\n<style scoped>\n.footer-tabbar .van-tabbar-item {\n   border-top: #E2E2E2 1px solid;\n }\n\n.footer-tabbar{\n  display: block;\n  background-color: lightsteelblue!important;\n}\n</style>\n"],"sourceRoot":"src/components"}]}