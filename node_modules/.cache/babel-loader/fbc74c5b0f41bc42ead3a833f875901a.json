{"remainingRequest":"/Users/lqd/WebstormProjects/warm/node_modules/babel-loader/lib/index.js!/Users/lqd/WebstormProjects/warm/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/lqd/WebstormProjects/warm/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lqd/WebstormProjects/warm/src/views/auth/LoginAndRegister.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lqd/WebstormProjects/warm/src/views/auth/LoginAndRegister.vue","mtime":1618152247971},{"path":"/Users/lqd/WebstormProjects/warm/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lqd/WebstormProjects/warm/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/lqd/WebstormProjects/warm/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lqd/WebstormProjects/warm/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJMb2dpbkFuZFJlZ2lzdGVyIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXNGb3Jnb3Q6IGZhbHNlLAogICAgICBpc1JlZ2lzdGVyOiBmYWxzZSwKICAgICAgaXNWZXJpZmllZDogZmFsc2UsCiAgICAgIGlzU2VuZDogZmFsc2UsCiAgICAgIGlzU2hvd0NvdW50RG93bjogZmFsc2UsCiAgICAgIGxvZ2luRW1haWw6ICcnLAogICAgICByZWdpc3RlckVtYWlsOiAnJywKICAgICAgdmVyaWZ5RW1haWw6ICcnLAogICAgICBsb2dpblBhc3N3b3JkOiAnJywKICAgICAgcmVnaXN0ZXJQYXNzd29yZDogJycsCiAgICAgIG5ld1Bhc3N3b3JkOiAnJywKICAgICAgZW5zdXJlUGFzc3dvcmQ6ICcnLAogICAgICBzdmM6IG51bGwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBvbkNsaWNrTGVmdDogZnVuY3Rpb24gb25DbGlja0xlZnQoKSB7CiAgICAgIHRoaXMuaXNSZWdpc3RlciA9IGZhbHNlOwogICAgICB0aGlzLmlzRm9yZ290ID0gZmFsc2U7CiAgICB9LAogICAgZG9Mb2dpbjogZnVuY3Rpb24gZG9Mb2dpbigpIHsKICAgICAgaWYgKHRoaXMubG9naW5FbWFpbCAmJiB0aGlzLmxvZ2luUGFzc3dvcmQpIHsKICAgICAgICBjb25zb2xlLmxvZygn55m75b2VJyk7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2lzTG9naW4nLCAndHJ1ZScpOwogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvJyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kdG9hc3QoewogICAgICAgICAgdHlwZTogJ2ZhaWwnLAogICAgICAgICAgbWVzc2FnZTogJ+mCrueuseWSjOWvhueggeS4jeiDveS4uuepuicKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGRvUmVnaXN0ZXI6IGZ1bmN0aW9uIGRvUmVnaXN0ZXIoKSB7CiAgICAgIGlmICh0aGlzLnJlZ2lzdGVyRW1haWwgJiYgdGhpcy5yZWdpc3RlclBhc3N3b3JkKSB7CiAgICAgICAgY29uc29sZS5sb2coJ+eZu+W9lScpOwogICAgICAgIHRoaXMuZW5zdXJlUGFzc3dvcmQgPSAnJzsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiR0b2FzdCh7CiAgICAgICAgICB0eXBlOiAnZmFpbCcsCiAgICAgICAgICBtZXNzYWdlOiAn6YKu566x5ZKM5a+G56CB5LiN6IO95Li656m6JwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgdG9Gb3Jnb3Q6IGZ1bmN0aW9uIHRvRm9yZ290KCkgewogICAgICB0aGlzLmlzUmVnaXN0ZXIgPSBmYWxzZTsKICAgICAgdGhpcy5pc0ZvcmdvdCA9IHRydWU7CiAgICB9LAogICAgdG9SZWdpc3RlcjogZnVuY3Rpb24gdG9SZWdpc3RlcigpIHsKICAgICAgdGhpcy5pc1JlZ2lzdGVyID0gdHJ1ZTsKICAgICAgdGhpcy5pc0ZvcmdvdCA9IGZhbHNlOwogICAgfSwKICAgIHNlbmRFbWFpbDogZnVuY3Rpb24gc2VuZEVtYWlsKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5pc1NlbmQgPSB0cnVlOwogICAgICB0aGlzLmlzU2hvd0NvdW50RG93biA9IHRydWU7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLiRyZWZzLmNvdW50RG93bi5zdGFydCgpOwogICAgICB9LCAzMDApOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy5pc1NlbmQgPSBmYWxzZTsKICAgICAgICBfdGhpcy5pc1Nob3dDb3VudERvd24gPSBmYWxzZTsKICAgICAgfSwgNjAwMDApOwogICAgICBjb25zb2xlLmxvZygi5Y+R6YCB6aqM6K+B56CBIik7CiAgICB9LAogICAgc3VibWl0VmVyOiBmdW5jdGlvbiBzdWJtaXRWZXIoKSB7CiAgICAgIGlmICh0aGlzLnN2YyAmJiB0aGlzLnZlcmlmeUVtYWlsKSB7CiAgICAgICAgdGhpcy5pc1ZlcmlmaWVkID0gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiR0b2FzdCh7CiAgICAgICAgICB0eXBlOiAnZmFpbCcsCiAgICAgICAgICBtZXNzYWdlOiAn6YKu566x5ZKM6aqM6K+B5ZCX5LiN6IO95Li656m6JwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgZW5zdXJlOiBmdW5jdGlvbiBlbnN1cmUoZGF0YSkgewogICAgICBpZiAoZGF0YSA9PT0gJ25ldycpIHsKICAgICAgICBpZiAodGhpcy5uZXdQYXNzd29yZCAhPT0gdGhpcy5lbnN1cmVQYXNzd29yZCkgewogICAgICAgICAgdGhpcy4kdG9hc3QoewogICAgICAgICAgICB0eXBlOiAnZmFpbCcsCiAgICAgICAgICAgIG1lc3NhZ2U6ICfkuKTmrKHovpPlhaXnmoTlr4bnoIHkuI3kuIDoh7QnCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKHRoaXMucmVnaXN0ZXJQYXNzd29yZCAhPT0gdGhpcy5lbnN1cmVQYXNzd29yZCkgewogICAgICAgICAgdGhpcy4kdG9hc3QoewogICAgICAgICAgICB0eXBlOiAnZmFpbCcsCiAgICAgICAgICAgIG1lc3NhZ2U6ICfkuKTmrKHovpPlhaXnmoTlr4bnoIHkuI3kuIDoh7QnCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBzdWJtaXROZXdQOiBmdW5jdGlvbiBzdWJtaXROZXdQKCkgewogICAgICB0aGlzLmlzRm9yZ290ID0gZmFsc2U7CiAgICAgIHRoaXMuZW5zdXJlUGFzc3dvcmQgPSAnJzsKICAgIH0KICB9Cn07"},{"version":3,"sources":["LoginAndRegister.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <div v-if=\"!isForgot\">\n      <div v-if=\"!isRegister\">\n        <i class=\"bi bi-reply-fill back-icon p-5 mt-5\"></i>\n        <h4 style=\"text-align: center\" class=\"logo-text\">欢迎来到U&nbsp;&nbsp;share</h4>\n\n      </div>\n      <div v-if=\"isRegister\">\n        <form>\n          <van-nav-bar\n              title=\"用户注册\"\n              left-text=\"返回\"\n              left-arrow\n              @click-left=\"onClickLeft\"\n          />\n          <div class=\"form-group\">\n            <label for=\"Email2\">邮箱</label>\n            <input type=\"email\" v-model=\"registerEmail\" class=\"form-control\" id=\"Email2\" aria-describedby=\"emailHelp\">\n          </div>\n          <div class=\"form-group\">\n            <label for=\"Password2\">密码</label>\n            <input type=\"password\" v-model=\"registerPassword\" class=\"form-control\" id=\"Password2\">\n          </div>\n          <div class=\"form-group\">\n            <label for=\"Password3\">确认密码</label>\n            <input type=\"password\" v-model=\"ensurePassword\" @blur=\"ensure('reg')\" class=\"form-control\" id=\"Password3\">\n          </div>\n          <button type=\"button\" class=\"btn btn-primary btn-block btn-lg\" @click=\"doRegister\">提交</button>\n        </form>\n      </div>\n    </div>\n    <div v-if=\"isForgot\">\n      <div v-if=\"!isVerified\">\n        <van-nav-bar\n            title=\"密码找回\"\n            left-text=\"返回\"\n            left-arrow\n            @click-left=\"onClickLeft\"\n        />\n        <van-field\n            v-model.trim=\"verifyEmail\"\n            center\n            clearable\n            label=\"邮箱\"\n            type=\"email\"\n            placeholder=\"请输入邮箱\"\n        />\n        <van-field\n            v-model.trim=\"svc\"\n            center\n            clearable\n            label=\"短信验证码\"\n            placeholder=\"请输入短信验证码\"\n        >\n          <template #button v-if=\"!isVerified\">\n            <van-button size=\"small\" type=\"primary\" :disabled=\"isSend\" @click=\"sendEmail\">\n              发送验证码\n              <van-count-down\n                  v-if=\"isShowCountDown\"\n                  ref=\"countDown\"\n                  millisecond\n                  :time=\"60000\"\n                  :auto-start=\"false\"\n                  format=\"ss\"\n              />\n            </van-button>\n          </template>\n        </van-field>\n        <button type=\"button\" class=\"btn btn-primary btn-block btn-lg mt-1\" @click=\"submitVer\">提交</button>\n      </div>\n      <div v-if=\"isVerified\">\n        <van-field\n            v-model.trim=\"newPassword\"\n            center\n            clearable\n            type=\"password\"\n            label=\"新密码\"\n            placeholder=\"请输入新密码\"\n        />\n        <van-field\n            v-model.trim=\"ensurePassword\"\n            center\n            clearable\n            type=\"password\"\n            @blur=\"ensure('new')\"\n            label=\"确认密码\"\n            placeholder=\"请输入密码\"\n        />\n        <button type=\"button\" class=\"btn btn-primary btn-block btn-lg mt-1\" @click=\"submitNewP\">提交</button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"LoginAndRegister\",\n  data(){\n    return{\n      isForgot: false,\n      isRegister: false,\n      isVerified: false,\n      isSend: false,\n      isShowCountDown: false,\n\n      loginEmail: '',\n      registerEmail: '',\n      verifyEmail: '',\n\n      loginPassword: '',\n      registerPassword: '',\n      newPassword: '',\n\n      ensurePassword: '',\n      svc:null\n    }\n  },\n  methods:{\n    onClickLeft(){\n      this.isRegister = false\n      this.isForgot = false\n    },\n    doLogin(){\n      if (this.loginEmail&&this.loginPassword){\n        console.log('登录')\n        localStorage.setItem('isLogin','true')\n        this.$router.push('/')\n      } else {\n        this.$toast({\n          type: 'fail',\n          message:'邮箱和密码不能为空'\n        })\n      }\n    },\n    doRegister(){\n      if (this.registerEmail&&this.registerPassword){\n        console.log('登录')\n        this.ensurePassword = ''\n      } else {\n        this.$toast({\n          type: 'fail',\n          message:'邮箱和密码不能为空'\n        })\n      }\n    },\n    toForgot(){\n      this.isRegister = false\n      this.isForgot = true\n    },\n    toRegister(){\n      this.isRegister = true\n      this.isForgot = false\n    },\n    sendEmail(){\n      this.isSend = true\n      this.isShowCountDown = true\n      setTimeout(()=>{\n        this.$refs.countDown.start()\n      },300)\n      setTimeout(()=>{\n        this.isSend = false\n        this.isShowCountDown = false\n      },60000)\n      console.log(\"发送验证码\")\n    },\n    submitVer(){\n      if (this.svc&&this.verifyEmail){\n        this.isVerified = true\n      } else {\n        this.$toast({\n          type: 'fail',\n          message:'邮箱和验证吗不能为空'\n        })\n      }\n    },\n    ensure(data){\n      if (data==='new'){\n        if (this.newPassword!==this.ensurePassword){\n          this.$toast({\n            type: 'fail',\n            message:'两次输入的密码不一致'\n          })\n        }\n      } else {\n        if (this.registerPassword!==this.ensurePassword){\n          this.$toast({\n            type: 'fail',\n            message:'两次输入的密码不一致'\n          })\n        }\n      }\n    },\n    submitNewP(){\n      this.isForgot = false\n      this.ensurePassword = ''\n    }\n  }\n}\n</script>\n\n<style scoped>\n.logo-text{\n  color: black;\n  margin-top: 80px;\n  margin-bottom: 5px;\n}\n.bi{\n  font-size: 22px;\n}\n.logo-img{\n  margin-bottom: 30px;\n  margin-left: 33%;\n}\n.form-control{\n  height: 50px!important;\n}\n.login-btn{\n  width: 90%;\n  margin-left: 5%;\n}\n.op-url{\n  color: #409EFF;\n}\n@-webkit-keyframes  shine1 {\n  from { -webkit-box-shadow: 0 0 5px #bbb; }\n  20% {-webkit-box-shadow: 0 0 10px #00FBE6}\n  40% {-webkit-box-shadow: 0 0 10px #6a1a21}\n  60% {-webkit-box-shadow: 0 0 10px #6f42c1}\n  80% {-webkit-box-shadow: 0 0 10px #1D84FF}\n  to { -webkit-box-shadow: 0 0 5px #bbb; }\n}\n.shine1{\n  -webkit-animation-name: shine1;\n  -webkit-animation-duration: 3s;\n  -webkit-animation-iteration-count: infinite;\n}\n</style>\n"],"sourceRoot":"src/views/auth"}]}