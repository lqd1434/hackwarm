{"remainingRequest":"/Users/lqd/WebstormProjects/warm/node_modules/babel-loader/lib/index.js!/Users/lqd/WebstormProjects/warm/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/lqd/WebstormProjects/warm/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lqd/WebstormProjects/warm/src/views/my/UpdateInfo.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lqd/WebstormProjects/warm/src/views/my/UpdateInfo.vue","mtime":1618463713889},{"path":"/Users/lqd/WebstormProjects/warm/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lqd/WebstormProjects/warm/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/lqd/WebstormProjects/warm/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lqd/WebstormProjects/warm/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lqd/WebstormProjects/warm/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lqd/WebstormProjects/warm/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/lqd/WebstormProjects/warm/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lqd/WebstormProjects/warm/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgY3JlYXRlTmFtZXNwYWNlZEhlbHBlcnMgfSBmcm9tICd2dWV4JzsKY29uc3QgewogIG1hcFN0YXRlCn0gPSBjcmVhdGVOYW1lc3BhY2VkSGVscGVycygnd2FybScpOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlVwZGF0ZUluZm8iLAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY2hhbmdlZFVzZXJJbmZvOiB7CiAgICAgICAgaWQ6IDAsCiAgICAgICAgdXNlcm5hbWU6ICcnLAogICAgICAgIHBhc3N3b3JkOiAnJywKICAgICAgICBteVNpZ246ICcnCiAgICAgIH0sCiAgICAgIGVuc3VyZVBhc3N3b3JkOiAnJywKICAgICAgZmlsZUxpc3Q6IFtdCiAgICB9OwogIH0sCgogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmNoYW5nZWRVc2VySW5mby5pZCA9IHRoaXMudXNlci5pZDsKICAgIHRoaXMuY2hhbmdlZFVzZXJJbmZvLnVzZXJuYW1lID0gdGhpcy51c2VyLnVzZXJuYW1lOwogICAgdGhpcy5jaGFuZ2VkVXNlckluZm8ucGFzc3dvcmQgPSB0aGlzLnVzZXIucGFzc3dvcmQ7CiAgICB0aGlzLmNoYW5nZWRVc2VySW5mby5teVNpZ24gPSB0aGlzLnVzZXIubXlTaWduOwogICAgdGhpcy5maWxlTGlzdC5wdXNoKHsKICAgICAgdXJsOiAnL2ltYWdlcy8nICsgdGhpcy51c2VyLmljb24KICAgIH0pOwogIH0sCgogIG1ldGhvZHM6IHsKICAgIGJlZm9yZVJlYWQoZmlsZSkgewogICAgICBpZiAoZmlsZS50eXBlICE9PSAnaW1hZ2UvanBlZycpIHsKICAgICAgICB0aGlzLiR0b2FzdCgn6K+35LiK5LygIGpwZyDmoLzlvI/lm77niYcnKTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KCiAgICAgIHJldHVybiB0cnVlOwogICAgfSwKCiAgICAvLyDov5Tlm54gUHJvbWlzZQogICAgYXN5bmNCZWZvcmVSZWFkKGZpbGUpIHsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgICBpZiAoZmlsZS50eXBlICE9PSAnaW1hZ2UvanBlZycpIHsKICAgICAgICAgIHRoaXMuJHRvYXN0KCfor7fkuIrkvKAganBnIOagvOW8j+WbvueJhycpOwogICAgICAgICAgcmVqZWN0KCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGxldCBpbWcgPSBuZXcgRmlsZShbJ2ZvbyddLCAnYmFyLmpwZycsIHsKICAgICAgICAgICAgdHlwZTogJ2ltYWdlL2pwZWcnCiAgICAgICAgICB9KTsKICAgICAgICAgIHJlc29sdmUoaW1nKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKCiAgICBvbkNsaWNrTGVmdCgpIHsKICAgICAgdGhpcy4kcm91dGVyLmdvKC0xKTsKICAgIH0sCgogICAgZW5zdXJlKCkgewogICAgICBpZiAodGhpcy5lbnN1cmVQYXNzd29yZCAhPT0gdGhpcy51c2VyLnBhc3N3b3JkKSB7CiAgICAgICAgdGhpcy4kdG9hc3QoewogICAgICAgICAgbWVzc2FnZTogJ+S4pOasoei+k+WFpeeahOWvhueggeS4jeS4gOiHtCcsCiAgICAgICAgICBpY29uOiAnY3Jvc3MnLAogICAgICAgICAgdHlwZTogJ2ZhaWwnCiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5lbnN1cmVQYXNzd29yZCA9ICcnOwogICAgICB9CiAgICB9LAoKICAgIHN1Ym1pdCgpIHsKICAgICAgY29uc29sZS5sb2coJ+aPkOS6pCcpOwogICAgICBjb25zb2xlLmxvZyh0aGlzLmNoYW5nZWRVc2VySW5mbyk7CiAgICB9CgogIH0sCiAgY29tcHV0ZWQ6IHsgLi4ubWFwU3RhdGUoWyd1c2VyJ10pCiAgfQp9Ow=="},{"version":3,"sources":["UpdateInfo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA,SAAA,uBAAA,QAAA,MAAA;AAEA,MAAA;AAAA,EAAA;AAAA,IAAA,uBAAA,CAAA,MAAA,CAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,YADA;;AAEA,EAAA,IAAA,GAAA;AACA,WAAA;AACA,MAAA,eAAA,EAAA;AAAA,QAAA,EAAA,EAAA,CAAA;AAAA,QAAA,QAAA,EAAA,EAAA;AAAA,QAAA,QAAA,EAAA,EAAA;AAAA,QAAA,MAAA,EAAA;AAAA,OADA;AAEA,MAAA,cAAA,EAAA,EAFA;AAGA,MAAA,QAAA,EAAA;AAHA,KAAA;AAKA,GARA;;AASA,EAAA,OAAA,GAAA;AACA,SAAA,eAAA,CAAA,EAAA,GAAA,KAAA,IAAA,CAAA,EAAA;AACA,SAAA,eAAA,CAAA,QAAA,GAAA,KAAA,IAAA,CAAA,QAAA;AACA,SAAA,eAAA,CAAA,QAAA,GAAA,KAAA,IAAA,CAAA,QAAA;AACA,SAAA,eAAA,CAAA,MAAA,GAAA,KAAA,IAAA,CAAA,MAAA;AACA,SAAA,QAAA,CAAA,IAAA,CAAA;AAAA,MAAA,GAAA,EAAA,aAAA,KAAA,IAAA,CAAA;AAAA,KAAA;AACA,GAfA;;AAgBA,EAAA,OAAA,EAAA;AACA,IAAA,UAAA,CAAA,IAAA,EAAA;AACA,UAAA,IAAA,CAAA,IAAA,KAAA,YAAA,EAAA;AACA,aAAA,MAAA,CAAA,cAAA;AACA,eAAA,KAAA;AACA;;AACA,aAAA,IAAA;AACA,KAPA;;AAQA;AACA,IAAA,eAAA,CAAA,IAAA,EAAA;AACA,aAAA,IAAA,OAAA,CAAA,CAAA,OAAA,EAAA,MAAA,KAAA;AACA,YAAA,IAAA,CAAA,IAAA,KAAA,YAAA,EAAA;AACA,eAAA,MAAA,CAAA,cAAA;AACA,UAAA,MAAA;AACA,SAHA,MAGA;AACA,cAAA,GAAA,GAAA,IAAA,IAAA,CAAA,CAAA,KAAA,CAAA,EAAA,SAAA,EAAA;AACA,YAAA,IAAA,EAAA;AADA,WAAA,CAAA;AAGA,UAAA,OAAA,CAAA,GAAA,CAAA;AACA;AACA,OAVA,CAAA;AAWA,KArBA;;AAsBA,IAAA,WAAA,GAAA;AACA,WAAA,OAAA,CAAA,EAAA,CAAA,CAAA,CAAA;AACA,KAxBA;;AAyBA,IAAA,MAAA,GAAA;AACA,UAAA,KAAA,cAAA,KAAA,KAAA,IAAA,CAAA,QAAA,EAAA;AACA,aAAA,MAAA,CAAA;AACA,UAAA,OAAA,EAAA,YADA;AAEA,UAAA,IAAA,EAAA,OAFA;AAGA,UAAA,IAAA,EAAA;AAHA,SAAA;AAKA,aAAA,cAAA,GAAA,EAAA;AACA;AACA,KAlCA;;AAmCA,IAAA,MAAA,GAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,IAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA,eAAA;AACA;;AAtCA,GAhBA;AAwDA,EAAA,QAAA,EAAA,EACA,GAAA,QAAA,CAAA,CAAA,MAAA,CAAA;AADA;AAxDA,CAAA","sourcesContent":["<template>\n  <div>\n    <van-nav-bar\n        title=\"修改资料\"\n        left-text=\"返回\"\n        left-arrow\n        @click-left=\"onClickLeft\"\n    />\n    <div style=\"text-align:center \">\n      <p >头像</p>\n      <van-uploader\n          v-model=\"fileList\"\n          image-fit=\"cover\"\n          max-count=\"1\"\n          :before-read=\"beforeRead\"\n      />\n    </div>\n\n    <van-cell-group style=\"margin-top: 30px\">\n      <van-field v-model.trim=\"changedUserInfo.username\" label=\"用户名\" type=\"text\" placeholder=\"请输入用户名\" />\n      <van-field v-model.trim=\"changedUserInfo.password\" label=\"密码\" type=\"password\" placeholder=\"请输入密码\" />\n      <van-field v-model.trim=\"ensurePassword\" @blur=\"ensure\" label=\"确认密码\" type=\"password\" placeholder=\"请输入密码\" />\n      <van-field\n          v-model.trim=\"changedUserInfo.mySign\"\n          rows=\"3\"\n          :autosize=\"true\"\n          label=\"我的个性签名\"\n          type=\"textarea\"\n          maxlength=\"100\"\n          placeholder=\"请输入我的签名\"\n          show-word-limit\n      />\n    </van-cell-group>\n    <van-button type=\"primary\" @click=\"submit\" block>提交</van-button>\n  </div>\n</template>\n\n<script>\nimport {createNamespacedHelpers} from 'vuex'\n\nconst { mapState } = createNamespacedHelpers('warm')\nexport default {\n  name: \"UpdateInfo\",\n  data(){\n    return{\n      changedUserInfo: {id: 0,username:'',password:'',mySign:''},\n      ensurePassword: '',\n      fileList: []\n    }\n  },\n  mounted() {\n    this.changedUserInfo.id = this.user.id\n    this.changedUserInfo.username = this.user.username\n    this.changedUserInfo.password = this.user.password\n    this.changedUserInfo.mySign = this.user.mySign\n    this.fileList.push({url:'/images/'+this.user.icon})\n  },\n  methods: {\n    beforeRead(file) {\n      if (file.type !== 'image/jpeg') {\n        this.$toast('请上传 jpg 格式图片');\n        return false;\n      }\n      return true;\n    },\n    // 返回 Promise\n    asyncBeforeRead(file) {\n      return new Promise((resolve, reject) => {\n        if (file.type !== 'image/jpeg') {\n          this.$toast('请上传 jpg 格式图片');\n          reject();\n        } else {\n          let img = new File(['foo'], 'bar.jpg', {\n            type: 'image/jpeg',\n          });\n          resolve(img);\n        }\n      });\n    },\n    onClickLeft(){\n      this.$router.go(-1)\n    },\n    ensure(){\n      if (this.ensurePassword!==this.user.password){\n        this.$toast({\n          message: '两次输入的密码不一致',\n          icon: 'cross',\n          type: 'fail',\n        })\n        this.ensurePassword = ''\n      }\n    },\n    submit(){\n      console.log('提交')\n      console.log(this.changedUserInfo)\n    }\n  },\n  computed:{\n    ...mapState(['user'])\n  }\n}\n</script>\n\n<style scoped>\n.van-cell{\n  margin-bottom: 10px;\n}\n</style>\n"],"sourceRoot":"src/views/my"}]}