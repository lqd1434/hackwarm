{"remainingRequest":"/Users/lqd/WebstormProjects/warm/node_modules/babel-loader/lib/index.js!/Users/lqd/WebstormProjects/warm/node_modules/eslint-loader/index.js??ref--13-0!/Users/lqd/WebstormProjects/warm/src/store/action.js","dependencies":[{"path":"/Users/lqd/WebstormProjects/warm/src/store/action.js","mtime":1618731519442},{"path":"/Users/lqd/WebstormProjects/warm/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lqd/WebstormProjects/warm/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/lqd/WebstormProjects/warm/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKY29uc3QgYWN0aW9uID0gewogIHRlc3RBY3Rpb24oewogICAgY29tbWl0CiAgfSwgZGF0YSkgewogICAgY29uc29sZS5sb2coZGF0YSk7CiAgICBheGlvcyh7CiAgICAgIHVybDogJ211c2ljcy5qc29uJywKICAgICAgbWV0aG9kOiAnZ2V0JwogICAgfSkudGhlbihyZXMgPT4gewogICAgICBjb21taXQoJ3Rlc3QnLCByZXMuZGF0YSk7CiAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhKTsKICAgIH0pOwogIH0sCgogIGdldFVzZXJJbmZvKHsKICAgIGNvbW1pdAogIH0sIGRhdGEpIHsKICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHsKICAgICAgYXhpb3MoewogICAgICAgIHVybDogJy9hcGkvaW5mby8nICsgZGF0YSwKICAgICAgICBtZXRob2Q6ICdnZXQnCiAgICAgIH0pLnRoZW4ocmVzID0+IHsKICAgICAgICByZXNvbHZlKHJlcy5kYXRhKTsKICAgICAgICBjb21taXQoJ3NldFVzZXJJbmZvJywgcmVzLmRhdGEuZGF0YSk7CiAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEpOwogICAgICB9KTsKICAgIH0pOwogIH0sCgogIHNlbmRQb3N0QWN0aW9uKHsKICAgIGNvbW1pdAogIH0sIGRhdGEpIHsKICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHsKICAgICAgYXhpb3MoewogICAgICAgIHVybDogJy9hcGkvaW5mbycsCiAgICAgICAgbWV0aG9kOiAncG9zdCcsCiAgICAgICAgZGF0YTogZGF0YQogICAgICB9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEpOwogICAgICAgIGNvbW1pdCgpOwogICAgICAgIHJlc29sdmUocmVzLmRhdGEpOwogICAgICB9KTsKICAgIH0pOwogIH0sCgogIGdldE1lc3NhZ2VIaXN0b3J5KHsKICAgIGNvbW1pdAogIH0sIGRhdGEpIHsKICAgIGNvbnN0IGRhdGExID0gSlNPTi5zdHJpbmdpZnkoewogICAgICBmcm9tOiBkYXRhLmZyb21JZCwKICAgICAgdG86IGRhdGEudG9JZAogICAgfSk7CiAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7CiAgICAgIGNvbnNvbGUubG9nKGRhdGEpOwogICAgICBjb25zb2xlLmxvZyhkYXRhMSk7CiAgICAgIGF4aW9zKHsKICAgICAgICB1cmw6ICcvY2hhdC9oaXN0b3J5JywKICAgICAgICBtZXRob2Q6ICdwb3N0JywKICAgICAgICBkYXRhOiB7CiAgICAgICAgICBmcm9tOiBkYXRhLmZyb21JZCwKICAgICAgICAgIHRvOiBkYXRhLnRvSWQKICAgICAgICB9CiAgICAgIH0pLnRoZW4ocmVzID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YSk7CiAgICAgICAgY29tbWl0KCdzZXRNZXNzYWdlSGlzdG9yeScsIHJlcy5kYXRhLmRhdGEpOwogICAgICAgIHJlc29sdmUocmVzLmRhdGEpOwogICAgICB9KTsKICAgIH0pOwogIH0sCgogIGdldENoYXRMaXN0QWN0aW9uKHsKICAgIGNvbW1pdAogIH0pIHsKICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHsKICAgICAgYXhpb3MoewogICAgICAgIHVybDogJy9hcGkvYXV0aC9jaGF0cycsCiAgICAgICAgbWV0aG9kOiAnZ2V0JywKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICBBdXRob3JpemF0aW9uOiAnQmVhcmVyICcgKyBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbXlUb2tlbicpCiAgICAgICAgfQogICAgICB9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgY29tbWl0KCdzZXRDaGF0TGlzdCcsIHJlcy5kYXRhLmRhdGEuY2hhdHMpOwogICAgICAgIHJlc29sdmUocmVzLmRhdGEpOwogICAgICB9KTsKICAgIH0pOwogIH0sCgogIGFkZENoYXRMaXN0QWN0aW9uKHsKICAgIGNvbW1pdAogIH0sIGRhdGEpIHsKICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHsKICAgICAgY29tbWl0KCdhZGRDaGF0TGlzdCcsIGRhdGEpOwogICAgICBjb25zdCBkYXRhMSA9IEpTT04uc3RyaW5naWZ5KHsKICAgICAgICBmcm9tX2lkOiBkYXRhLmZyb21JZCwKICAgICAgICBsYXN0X21zZzogZGF0YS5MYXN0TXNnCiAgICAgIH0pOwogICAgICBjb25zb2xlLmxvZyhkYXRhMSk7CiAgICAgIGF4aW9zKHsKICAgICAgICB1cmw6ICcvYXBpL2F1dGgvY2hhdCcsCiAgICAgICAgbWV0aG9kOiAncG9zdCcsCiAgICAgICAgZGF0YTogZGF0YTEsCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgQXV0aG9yaXphdGlvbjogJ0JlYXJlciAnICsgbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ215VG9rZW4nKQogICAgICAgIH0KICAgICAgfSkudGhlbihyZXMgPT4gewogICAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhKTsKICAgICAgICByZXNvbHZlKHJlcy5kYXRhKTsKICAgICAgfSk7CiAgICB9KTsKICB9Cgp9OwpleHBvcnQgZGVmYXVsdCBhY3Rpb247"},{"version":3,"sources":["/Users/lqd/WebstormProjects/warm/src/store/action.js"],"names":["axios","action","testAction","commit","data","console","log","url","method","then","res","getUserInfo","Promise","resolve","sendPostAction","getMessageHistory","data1","JSON","stringify","from","fromId","to","toId","getChatListAction","headers","Authorization","localStorage","getItem","chats","addChatListAction","from_id","last_msg","LastMsg"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,MAAM,GAAG;AACdC,EAAAA,UAAU,CAAC;AAACC,IAAAA;AAAD,GAAD,EAAWC,IAAX,EAAgB;AACzBC,IAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACAJ,IAAAA,KAAK,CAAC;AACLO,MAAAA,GAAG,EAAE,aADA;AAELC,MAAAA,MAAM,EAAE;AAFH,KAAD,CAAL,CAGGC,IAHH,CAGSC,GAAD,IAAO;AACdP,MAAAA,MAAM,CAAC,MAAD,EAASO,GAAG,CAACN,IAAb,CAAN;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYI,GAAG,CAACN,IAAhB;AACA,KAND;AAOA,GAVa;;AAWdO,EAAAA,WAAW,CAAC;AAACR,IAAAA;AAAD,GAAD,EAAUC,IAAV,EAAe;AACzB,WAAO,IAAIQ,OAAJ,CAAaC,OAAD,IAAa;AAC/Bb,MAAAA,KAAK,CAAC;AACLO,QAAAA,GAAG,EAAE,eAAaH,IADb;AAELI,QAAAA,MAAM,EAAE;AAFH,OAAD,CAAL,CAGGC,IAHH,CAGSC,GAAD,IAAO;AACdG,QAAAA,OAAO,CAACH,GAAG,CAACN,IAAL,CAAP;AACAD,QAAAA,MAAM,CAAC,aAAD,EAAgBO,GAAG,CAACN,IAAJ,CAASA,IAAzB,CAAN;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAYI,GAAG,CAACN,IAAhB;AACA,OAPD;AAQA,KATM,CAAP;AAWA,GAvBa;;AAwBdU,EAAAA,cAAc,CAAC;AAACX,IAAAA;AAAD,GAAD,EAAUC,IAAV,EAAe;AAC5B,WAAO,IAAIQ,OAAJ,CAAaC,OAAD,IAAa;AAC/Bb,MAAAA,KAAK,CAAC;AACLO,QAAAA,GAAG,EAAE,WADA;AAELC,QAAAA,MAAM,EAAE,MAFH;AAGLJ,QAAAA,IAAI,EAACA;AAHA,OAAD,CAAL,CAIGK,IAJH,CAISC,GAAD,IAAO;AACdL,QAAAA,OAAO,CAACC,GAAR,CAAYI,GAAG,CAACN,IAAhB;AACAD,QAAAA,MAAM;AACNU,QAAAA,OAAO,CAACH,GAAG,CAACN,IAAL,CAAP;AACA,OARD;AASA,KAVM,CAAP;AAWA,GApCa;;AAqCdW,EAAAA,iBAAiB,CAAC;AAACZ,IAAAA;AAAD,GAAD,EAAUC,IAAV,EAAe;AAC/B,UAAMY,KAAK,GAACC,IAAI,CAACC,SAAL,CAAe;AAC1BC,MAAAA,IAAI,EAACf,IAAI,CAACgB,MADgB;AAE1BC,MAAAA,EAAE,EAACjB,IAAI,CAACkB;AAFkB,KAAf,CAAZ;AAIA,WAAO,IAAIV,OAAJ,CAAaC,OAAD,IAAa;AAC/BR,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYU,KAAZ;AACAhB,MAAAA,KAAK,CAAC;AACLO,QAAAA,GAAG,EAAE,eADA;AAELC,QAAAA,MAAM,EAAE,MAFH;AAGLJ,QAAAA,IAAI,EAAE;AACLe,UAAAA,IAAI,EAACf,IAAI,CAACgB,MADL;AAELC,UAAAA,EAAE,EAACjB,IAAI,CAACkB;AAFH;AAHD,OAAD,CAAL,CAOGb,IAPH,CAOSC,GAAD,IAAO;AACdL,QAAAA,OAAO,CAACC,GAAR,CAAYI,GAAG,CAACN,IAAhB;AACAD,QAAAA,MAAM,CAAC,mBAAD,EAAqBO,GAAG,CAACN,IAAJ,CAASA,IAA9B,CAAN;AACAS,QAAAA,OAAO,CAACH,GAAG,CAACN,IAAL,CAAP;AACA,OAXD;AAYA,KAfM,CAAP;AAgBA,GA1Da;;AA2DdmB,EAAAA,iBAAiB,CAAC;AAACpB,IAAAA;AAAD,GAAD,EAAU;AAC1B,WAAO,IAAIS,OAAJ,CAAaC,OAAD,IAAW;AAC7Bb,MAAAA,KAAK,CAAC;AACLO,QAAAA,GAAG,EAAC,iBADC;AAELC,QAAAA,MAAM,EAAC,KAFF;AAGLgB,QAAAA,OAAO,EAAC;AACPC,UAAAA,aAAa,EAAC,YAAYC,YAAY,CAACC,OAAb,CAAqB,SAArB;AADnB;AAHH,OAAD,CAAL,CAMGlB,IANH,CAMSC,GAAD,IAAO;AACdP,QAAAA,MAAM,CAAC,aAAD,EAAeO,GAAG,CAACN,IAAJ,CAASA,IAAT,CAAcwB,KAA7B,CAAN;AACAf,QAAAA,OAAO,CAACH,GAAG,CAACN,IAAL,CAAP;AACA,OATD;AAUA,KAXM,CAAP;AAYA,GAxEa;;AAyEdyB,EAAAA,iBAAiB,CAAC;AAAC1B,IAAAA;AAAD,GAAD,EAAUC,IAAV,EAAe;AAC/B,WAAO,IAAIQ,OAAJ,CAAaC,OAAD,IAAa;AAC/BV,MAAAA,MAAM,CAAC,aAAD,EAAeC,IAAf,CAAN;AACA,YAAMY,KAAK,GAAEC,IAAI,CAACC,SAAL,CAAe;AAC3BY,QAAAA,OAAO,EAAC1B,IAAI,CAACgB,MADc;AAE3BW,QAAAA,QAAQ,EAAC3B,IAAI,CAAC4B;AAFa,OAAf,CAAb;AAIA3B,MAAAA,OAAO,CAACC,GAAR,CAAYU,KAAZ;AACAhB,MAAAA,KAAK,CAAC;AACLO,QAAAA,GAAG,EAAC,gBADC;AAELC,QAAAA,MAAM,EAAC,MAFF;AAGLJ,QAAAA,IAAI,EAACY,KAHA;AAILQ,QAAAA,OAAO,EAAC;AACPC,UAAAA,aAAa,EAAC,YAAYC,YAAY,CAACC,OAAb,CAAqB,SAArB;AADnB;AAJH,OAAD,CAAL,CAOGlB,IAPH,CAOSC,GAAD,IAAO;AACdL,QAAAA,OAAO,CAACC,GAAR,CAAYI,GAAG,CAACN,IAAhB;AACAS,QAAAA,OAAO,CAACH,GAAG,CAACN,IAAL,CAAP;AACA,OAVD;AAWA,KAlBM,CAAP;AAmBA;;AA7Fa,CAAf;AAgGA,eAAeH,MAAf","sourcesContent":["import axios from 'axios'\n\nconst action = {\n\ttestAction({commit}, data){\n\t\tconsole.log(data)\n\t\taxios({\n\t\t\turl: 'musics.json',\n\t\t\tmethod: 'get'\n\t\t}).then((res)=>{\n\t\t\tcommit('test', res.data)\n\t\t\tconsole.log(res.data)\n\t\t})\n\t},\n\tgetUserInfo({commit},data){\n\t\treturn new Promise((resolve) => {\n\t\t\taxios({\n\t\t\t\turl: '/api/info/'+data,\n\t\t\t\tmethod: 'get'\n\t\t\t}).then((res)=>{\n\t\t\t\tresolve(res.data)\n\t\t\t\tcommit('setUserInfo', res.data.data)\n\t\t\t\tconsole.log(res.data)\n\t\t\t})\n\t\t})\n\n\t},\n\tsendPostAction({commit},data){\n\t\treturn new Promise((resolve) => {\n\t\t\taxios({\n\t\t\t\turl: '/api/info',\n\t\t\t\tmethod: 'post',\n\t\t\t\tdata:data\n\t\t\t}).then((res)=>{\n\t\t\t\tconsole.log(res.data)\n\t\t\t\tcommit()\n\t\t\t\tresolve(res.data)\n\t\t\t})\n\t\t})\n\t},\n\tgetMessageHistory({commit},data){\n\t\tconst data1=JSON.stringify({\n\t\t\tfrom:data.fromId,\n\t\t\tto:data.toId\n\t\t})\n\t\treturn new Promise((resolve) => {\n\t\t\tconsole.log(data)\n\t\t\tconsole.log(data1)\n\t\t\taxios({\n\t\t\t\turl: '/chat/history',\n\t\t\t\tmethod: 'post',\n\t\t\t\tdata: {\n\t\t\t\t\tfrom:data.fromId,\n\t\t\t\t\tto:data.toId\n\t\t\t\t}\n\t\t\t}).then((res)=>{\n\t\t\t\tconsole.log(res.data)\n\t\t\t\tcommit('setMessageHistory',res.data.data)\n\t\t\t\tresolve(res.data)\n\t\t\t})\n\t\t})\n\t},\n\tgetChatListAction({commit}){\n\t\treturn new Promise((resolve)=>{\n\t\t\taxios({\n\t\t\t\turl:'/api/auth/chats',\n\t\t\t\tmethod:'get',\n\t\t\t\theaders:{\n\t\t\t\t\tAuthorization:'Bearer ' + localStorage.getItem('myToken')\n\t\t\t\t},\n\t\t\t}).then((res)=>{\n\t\t\t\tcommit('setChatList',res.data.data.chats)\n\t\t\t\tresolve(res.data)\n\t\t\t})\n\t\t})\n\t},\n\taddChatListAction({commit},data){\n\t\treturn new Promise((resolve) => {\n\t\t\tcommit('addChatList',data)\n\t\t\tconst data1 =JSON.stringify({\n\t\t\t\tfrom_id:data.fromId,\n\t\t\t\tlast_msg:data.LastMsg\n\t\t\t})\n\t\t\tconsole.log(data1)\n\t\t\taxios({\n\t\t\t\turl:'/api/auth/chat',\n\t\t\t\tmethod:'post',\n\t\t\t\tdata:data1,\n\t\t\t\theaders:{\n\t\t\t\t\tAuthorization:'Bearer ' + localStorage.getItem('myToken')\n\t\t\t\t},\n\t\t\t}).then((res)=>{\n\t\t\t\tconsole.log(res.data)\n\t\t\t\tresolve(res.data)\n\t\t\t})\n\t\t})\n\t}\n}\n\nexport default action\n"]}]}