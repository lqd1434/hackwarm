{"remainingRequest":"/Users/lqd/WebstormProjects/warm/node_modules/babel-loader/lib/index.js!/Users/lqd/WebstormProjects/warm/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/lqd/WebstormProjects/warm/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lqd/WebstormProjects/warm/src/views/my/UpdateInfo.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lqd/WebstormProjects/warm/src/views/my/UpdateInfo.vue","mtime":1618126835335},{"path":"/Users/lqd/WebstormProjects/warm/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lqd/WebstormProjects/warm/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/lqd/WebstormProjects/warm/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lqd/WebstormProjects/warm/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2xxZC9XZWJzdG9ybVByb2plY3RzL3dhcm0vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgY3JlYXRlTmFtZXNwYWNlZEhlbHBlcnMgfSBmcm9tICd2dWV4JzsKCnZhciBfY3JlYXRlTmFtZXNwYWNlZEhlbHAgPSBjcmVhdGVOYW1lc3BhY2VkSGVscGVycygnd2FybScpLAogICAgbWFwU3RhdGUgPSBfY3JlYXRlTmFtZXNwYWNlZEhlbHAubWFwU3RhdGU7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlVwZGF0ZUluZm8iLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjaGFuZ2VkVXNlckluZm86IHsKICAgICAgICBpZDogMCwKICAgICAgICB1c2VybmFtZTogJycsCiAgICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICAgIG15U2lnbjogJycKICAgICAgfSwKICAgICAgZW5zdXJlUGFzc3dvcmQ6ICcnLAogICAgICBmaWxlTGlzdDogW10KICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5jaGFuZ2VkVXNlckluZm8uaWQgPSB0aGlzLnVzZXIuaWQ7CiAgICB0aGlzLmNoYW5nZWRVc2VySW5mby51c2VybmFtZSA9IHRoaXMudXNlci51c2VybmFtZTsKICAgIHRoaXMuY2hhbmdlZFVzZXJJbmZvLnBhc3N3b3JkID0gdGhpcy51c2VyLnBhc3N3b3JkOwogICAgdGhpcy5jaGFuZ2VkVXNlckluZm8ubXlTaWduID0gdGhpcy51c2VyLm15U2lnbjsKICAgIHRoaXMuZmlsZUxpc3QucHVzaCh7CiAgICAgIHVybDogJy9pbWFnZXMvJyArIHRoaXMudXNlci5pY29uCiAgICB9KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGJlZm9yZVJlYWQ6IGZ1bmN0aW9uIGJlZm9yZVJlYWQoZmlsZSkgewogICAgICBpZiAoZmlsZS50eXBlICE9PSAnaW1hZ2UvanBlZycpIHsKICAgICAgICB0aGlzLiR0b2FzdCgn6K+35LiK5LygIGpwZyDmoLzlvI/lm77niYcnKTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KCiAgICAgIHJldHVybiB0cnVlOwogICAgfSwKICAgIC8vIOi/lOWbniBQcm9taXNlCiAgICBhc3luY0JlZm9yZVJlYWQ6IGZ1bmN0aW9uIGFzeW5jQmVmb3JlUmVhZChmaWxlKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIGlmIChmaWxlLnR5cGUgIT09ICdpbWFnZS9qcGVnJykgewogICAgICAgICAgX3RoaXMuJHRvYXN0KCfor7fkuIrkvKAganBnIOagvOW8j+WbvueJhycpOwoKICAgICAgICAgIHJlamVjdCgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2YXIgaW1nID0gbmV3IEZpbGUoWydmb28nXSwgJ2Jhci5qcGcnLCB7CiAgICAgICAgICAgIHR5cGU6ICdpbWFnZS9qcGVnJwogICAgICAgICAgfSk7CiAgICAgICAgICByZXNvbHZlKGltZyk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBvbkNsaWNrTGVmdDogZnVuY3Rpb24gb25DbGlja0xlZnQoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5nbygtMSk7CiAgICB9LAogICAgZW5zdXJlOiBmdW5jdGlvbiBlbnN1cmUoKSB7CiAgICAgIGlmICh0aGlzLmVuc3VyZVBhc3N3b3JkICE9PSB0aGlzLnVzZXIucGFzc3dvcmQpIHsKICAgICAgICB0aGlzLiR0b2FzdCh7CiAgICAgICAgICBtZXNzYWdlOiAn5Lik5qyh6L6T5YWl55qE5a+G56CB5LiN5LiA6Ie0JywKICAgICAgICAgIGljb246ICdjcm9zcycsCiAgICAgICAgICB0eXBlOiAnZmFpbCcKICAgICAgICB9KTsKICAgICAgICB0aGlzLmVuc3VyZVBhc3N3b3JkID0gJyc7CiAgICAgIH0KICAgIH0sCiAgICBzdWJtaXQ6IGZ1bmN0aW9uIHN1Ym1pdCgpIHsKICAgICAgY29uc29sZS5sb2coJ+aPkOS6pCcpOwogICAgICBjb25zb2xlLmxvZyh0aGlzLmNoYW5nZWRVc2VySW5mbyk7CiAgICB9CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwU3RhdGUoWyd1c2VyJ10pKQp9Ow=="},{"version":3,"sources":["UpdateInfo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA,SAAA,uBAAA,QAAA,MAAA;;4BACA,uBAAA,CAAA,MAAA,C;IAAA,Q,yBAAA,Q;;AACA,eAAA;AACA,EAAA,IAAA,EAAA,YADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,eAAA,EAAA;AAAA,QAAA,EAAA,EAAA,CAAA;AAAA,QAAA,QAAA,EAAA,EAAA;AAAA,QAAA,QAAA,EAAA,EAAA;AAAA,QAAA,MAAA,EAAA;AAAA,OADA;AAEA,MAAA,cAAA,EAAA,EAFA;AAGA,MAAA,QAAA,EAAA;AAHA,KAAA;AAKA,GARA;AASA,EAAA,OATA,qBASA;AACA,SAAA,eAAA,CAAA,EAAA,GAAA,KAAA,IAAA,CAAA,EAAA;AACA,SAAA,eAAA,CAAA,QAAA,GAAA,KAAA,IAAA,CAAA,QAAA;AACA,SAAA,eAAA,CAAA,QAAA,GAAA,KAAA,IAAA,CAAA,QAAA;AACA,SAAA,eAAA,CAAA,MAAA,GAAA,KAAA,IAAA,CAAA,MAAA;AACA,SAAA,QAAA,CAAA,IAAA,CAAA;AAAA,MAAA,GAAA,EAAA,aAAA,KAAA,IAAA,CAAA;AAAA,KAAA;AACA,GAfA;AAgBA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,sBACA,IADA,EACA;AACA,UAAA,IAAA,CAAA,IAAA,KAAA,YAAA,EAAA;AACA,aAAA,MAAA,CAAA,cAAA;AACA,eAAA,KAAA;AACA;;AACA,aAAA,IAAA;AACA,KAPA;AAQA;AACA,IAAA,eATA,2BASA,IATA,EASA;AAAA;;AACA,aAAA,IAAA,OAAA,CAAA,UAAA,OAAA,EAAA,MAAA,EAAA;AACA,YAAA,IAAA,CAAA,IAAA,KAAA,YAAA,EAAA;AACA,UAAA,KAAA,CAAA,MAAA,CAAA,cAAA;;AACA,UAAA,MAAA;AACA,SAHA,MAGA;AACA,cAAA,GAAA,GAAA,IAAA,IAAA,CAAA,CAAA,KAAA,CAAA,EAAA,SAAA,EAAA;AACA,YAAA,IAAA,EAAA;AADA,WAAA,CAAA;AAGA,UAAA,OAAA,CAAA,GAAA,CAAA;AACA;AACA,OAVA,CAAA;AAWA,KArBA;AAsBA,IAAA,WAtBA,yBAsBA;AACA,WAAA,OAAA,CAAA,EAAA,CAAA,CAAA,CAAA;AACA,KAxBA;AAyBA,IAAA,MAzBA,oBAyBA;AACA,UAAA,KAAA,cAAA,KAAA,KAAA,IAAA,CAAA,QAAA,EAAA;AACA,aAAA,MAAA,CAAA;AACA,UAAA,OAAA,EAAA,YADA;AAEA,UAAA,IAAA,EAAA,OAFA;AAGA,UAAA,IAAA,EAAA;AAHA,SAAA;AAKA,aAAA,cAAA,GAAA,EAAA;AACA;AACA,KAlCA;AAmCA,IAAA,MAnCA,oBAmCA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,IAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA,eAAA;AACA;AAtCA,GAhBA;AAwDA,EAAA,QAAA,oBACA,QAAA,CAAA,CAAA,MAAA,CAAA,CADA;AAxDA,CAAA","sourcesContent":["<template>\n  <div>\n    <van-nav-bar\n        title=\"修改资料\"\n        left-text=\"返回\"\n        left-arrow\n        @click-left=\"onClickLeft\"\n    />\n    <div style=\"text-align:center \">\n      <p >头像</p>\n      <van-uploader\n          v-model=\"fileList\"\n          image-fit=\"cover\"\n          max-count=\"1\"\n          :before-read=\"beforeRead\"\n      />\n    </div>\n\n    <van-cell-group style=\"margin-top: 30px\">\n      <van-field v-model.trim=\"changedUserInfo.username\" label=\"用户名\" type=\"text\" placeholder=\"请输入用户名\" />\n      <van-field v-model.trim=\"changedUserInfo.password\" label=\"密码\" type=\"password\" placeholder=\"请输入密码\" />\n      <van-field v-model.trim=\"ensurePassword\" @blur=\"ensure\" label=\"确认密码\" type=\"password\" placeholder=\"请输入密码\" />\n      <van-field\n          v-model.trim=\"changedUserInfo.mySign\"\n          rows=\"3\"\n          :autosize=\"true\"\n          label=\"我的个性签名\"\n          type=\"textarea\"\n          maxlength=\"100\"\n          placeholder=\"请输入我的签名\"\n          show-word-limit\n      />\n    </van-cell-group>\n    <van-button type=\"primary\" @click=\"submit\" block>提交</van-button>\n  </div>\n</template>\n\n<script>\nimport { createNamespacedHelpers } from 'vuex'\nconst { mapState } = createNamespacedHelpers('warm')\nexport default {\n  name: \"UpdateInfo\",\n  data(){\n    return{\n      changedUserInfo: {id: 0,username:'',password:'',mySign:''},\n      ensurePassword: '',\n      fileList: []\n    }\n  },\n  mounted() {\n    this.changedUserInfo.id = this.user.id\n    this.changedUserInfo.username = this.user.username\n    this.changedUserInfo.password = this.user.password\n    this.changedUserInfo.mySign = this.user.mySign\n    this.fileList.push({url:'/images/'+this.user.icon})\n  },\n  methods: {\n    beforeRead(file) {\n      if (file.type !== 'image/jpeg') {\n        this.$toast('请上传 jpg 格式图片');\n        return false;\n      }\n      return true;\n    },\n    // 返回 Promise\n    asyncBeforeRead(file) {\n      return new Promise((resolve, reject) => {\n        if (file.type !== 'image/jpeg') {\n          this.$toast('请上传 jpg 格式图片');\n          reject();\n        } else {\n          let img = new File(['foo'], 'bar.jpg', {\n            type: 'image/jpeg',\n          });\n          resolve(img);\n        }\n      });\n    },\n    onClickLeft(){\n      this.$router.go(-1)\n    },\n    ensure(){\n      if (this.ensurePassword!==this.user.password){\n        this.$toast({\n          message: '两次输入的密码不一致',\n          icon: 'cross',\n          type: 'fail',\n        })\n        this.ensurePassword = ''\n      }\n    },\n    submit(){\n      console.log('提交')\n      console.log(this.changedUserInfo)\n    }\n  },\n  computed:{\n    ...mapState(['user'])\n  }\n}\n</script>\n\n<style scoped>\n.van-cell{\n  margin-bottom: 10px;\n}\n</style>\n"],"sourceRoot":"src/views/my"}]}