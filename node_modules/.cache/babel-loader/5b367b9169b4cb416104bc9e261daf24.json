{"remainingRequest":"/Users/lqd/WebstormProjects/warm/node_modules/babel-loader/lib/index.js!/Users/lqd/WebstormProjects/warm/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/lqd/WebstormProjects/warm/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lqd/WebstormProjects/warm/src/views/my/setting/UpdateSer.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lqd/WebstormProjects/warm/src/views/my/setting/UpdateSer.vue","mtime":1618666436327},{"path":"/Users/lqd/WebstormProjects/warm/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lqd/WebstormProjects/warm/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/lqd/WebstormProjects/warm/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lqd/WebstormProjects/warm/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJVcGRhdGVTZXIiLAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXNTaG93UG9wdXA6IGZhbHNlLAogICAgICBvbGRQYXNzd29yZDogJycsCiAgICAgIG5ld1Bhc3N3b3JkOiAnJwogICAgfTsKICB9LAoKICBtZXRob2RzOiB7CiAgICBvbkNsaWNrTGVmdCgpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9hY2NvdW50Jyk7CiAgICB9LAoKICAgIHNob3dQb3B1cChkYXRhKSB7CiAgICAgIGlmIChkYXRhID09PSAncGFzc3dvcmQnKSB7CiAgICAgICAgdGhpcy5pc1Nob3dQb3B1cCA9IHRydWU7CiAgICAgIH0KICAgIH0sCgogICAgc3VibWl0KCkgewogICAgICBjb25zdCBkYXRhMSA9IEpTT04uc3RyaW5naWZ5KHsKICAgICAgICBuZXdfcGFzc3dvcmQ6IHRoaXMubmV3UGFzc3dvcmQsCiAgICAgICAgcGFzc3dvcmQ6IHRoaXMub2xkUGFzc3dvcmQKICAgICAgfSk7CiAgICAgIGF4aW9zKHsKICAgICAgICB1cmw6ICcvYXBpL2F1dGgvcHdkJywKICAgICAgICBtZXRob2Q6ICdwdXQnLAogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgIEF1dGhvcml6YXRpb246ICdCZWFyZXIgJyArIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdteVRva2VuJykKICAgICAgICB9LAogICAgICAgIGRhdGE6IGRhdGExCiAgICAgIH0pLnRoZW4ocmVzID0+IHsKICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PT0gMCkgewogICAgICAgICAgdGhpcy4kdG9hc3QoewogICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgIG1lc3NhZ2U6ICfkv67mlLnlr4bnoIHmiJDlip8nCiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMuaXNTaG93UG9wdXAgPSBmYWxzZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy4kdG9hc3QoewogICAgICAgICAgICB0eXBlOiAnZmFpbCcsCiAgICAgICAgICAgIG1lc3NhZ2U6ICfkv67mlLnlpLHotKUs6K+36YeN5paw6L6T5YWlJwogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YSk7CiAgICAgIH0pOwogICAgICB0aGlzLm5ld1Bhc3N3b3JkID0gJyc7CiAgICAgIHRoaXMub2xkUGFzc3dvcmQgPSAnJzsKICAgIH0KCiAgfQp9Ow=="},{"version":3,"sources":["UpdateSer.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqDA,OAAA,KAAA,MAAA,OAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,WADA;;AAEA,EAAA,IAAA,GAAA;AACA,WAAA;AACA,MAAA,WAAA,EAAA,KADA;AAEA,MAAA,WAAA,EAAA,EAFA;AAGA,MAAA,WAAA,EAAA;AAHA,KAAA;AAKA,GARA;;AASA,EAAA,OAAA,EAAA;AACA,IAAA,WAAA,GAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,UAAA;AACA,KAHA;;AAIA,IAAA,SAAA,CAAA,IAAA,EAAA;AACA,UAAA,IAAA,KAAA,UAAA,EAAA;AACA,aAAA,WAAA,GAAA,IAAA;AACA;AACA,KARA;;AASA,IAAA,MAAA,GAAA;AACA,YAAA,KAAA,GAAA,IAAA,CAAA,SAAA,CAAA;AACA,QAAA,YAAA,EAAA,KAAA,WADA;AAEA,QAAA,QAAA,EAAA,KAAA;AAFA,OAAA,CAAA;AAIA,MAAA,KAAA,CAAA;AACA,QAAA,GAAA,EAAA,eADA;AAEA,QAAA,MAAA,EAAA,KAFA;AAGA,QAAA,OAAA,EAAA;AACA,UAAA,aAAA,EAAA,YAAA,YAAA,CAAA,OAAA,CAAA,SAAA;AADA,SAHA;AAMA,QAAA,IAAA,EAAA;AANA,OAAA,CAAA,CAOA,IAPA,CAOA,GAAA,IAAA;AACA,YAAA,GAAA,CAAA,IAAA,CAAA,IAAA,KAAA,CAAA,EAAA;AACA,eAAA,MAAA,CAAA;AACA,YAAA,IAAA,EAAA,SADA;AAEA,YAAA,OAAA,EAAA;AAFA,WAAA;AAIA,eAAA,WAAA,GAAA,KAAA;AACA,SANA,MAMA;AACA,eAAA,MAAA,CAAA;AACA,YAAA,IAAA,EAAA,MADA;AAEA,YAAA,OAAA,EAAA;AAFA,WAAA;AAIA;;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA,CAAA,IAAA;AACA,OArBA;AAsBA,WAAA,WAAA,GAAA,EAAA;AACA,WAAA,WAAA,GAAA,EAAA;AACA;;AAtCA;AATA,CAAA","sourcesContent":["<template>\n  <div>\n    <van-nav-bar\n        title=\"用户信息\"\n        left-text=\"返回\"\n        left-arrow\n        @click-left=\"onClickLeft\"\n    />\n    <div>\n      <van-cell is-link class=\"cell-title\" @click=\"showPopup('password')\">\n        <template #title>\n          <i class=\"bi bi-pencil-fill cell-title\"></i>\n          <span class=\"cell-title\">密码修改</span>\n        </template>\n      </van-cell>\n      <van-cell is-link to=\"/\" class=\"cell-title\">\n        <template #title>\n          <i class=\"bi bi-envelope-fill cell-title\"></i>\n          <span class=\"cell-title\">邮箱绑定</span>\n        </template>\n      </van-cell>\n      <van-cell is-link to=\"/\" class=\"cell-title\">\n        <template #title>\n          <i class=\"bi bi-chat-dots-fill cell-title\"></i>\n          <span class=\"cell-title\">微信绑定</span>\n        </template>\n      </van-cell>\n    </div>\n    <div>\n      <van-popup\n          v-model=\"isShowPopup\"\n          position=\"bottom\"\n          :style=\"{ height: '40%' }\"\n          closeable\n          close-icon=\"close\"\n          close-icon-position=\"top-right\">\n        <form>\n          <div class=\"form-group mt-5 form-p\">\n            <label for=\"password1\">旧密码</label>\n            <input type=\"password\" v-model=\"oldPassword\" class=\"form-control\" id=\"password1\" aria-describedby=\"emailHelp\">\n          </div>\n          <div class=\"form-group form-p\">\n            <label for=\"exampleInputPassword1\">新密码</label>\n            <input type=\"password\" v-model=\"newPassword\" class=\"form-control\" id=\"exampleInputPassword1\">\n          </div>\n          <button type=\"button\" class=\"btn btn-dark btn-block  mt-4 form-p\" @click=\"submit\">提交</button>\n        </form>\n      </van-popup>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  name: \"UpdateSer\",\n  data(){\n    return{\n      isShowPopup: false,\n      oldPassword:'',\n      newPassword:'',\n    }\n  },\n  methods:{\n    onClickLeft(){\n      this.$router.push('/account')\n    },\n    showPopup(data){\n      if (data==='password'){\n        this.isShowPopup = true\n      }\n    },\n    submit(){\n      const data1 = JSON.stringify({\n        new_password:this.newPassword,\n        password:this.oldPassword,\n      })\n      axios({\n        url:'/api/auth/pwd',\n        method: 'put',\n        headers:{\n          Authorization:'Bearer ' + localStorage.getItem('myToken')\n        },\n        data:data1\n      }).then((res)=> {\n        if (res.data.code===0){\n          this.$toast({\n            type: 'success',\n            message:'修改密码成功'\n          })\n          this.isShowPopup = false\n        } else {\n          this.$toast({\n            type: 'fail',\n            message:'修改失败,请重新输入'\n          })\n        }\n        console.log(res.data)\n      })\n      this.newPassword = ''\n      this.oldPassword = ''\n      }\n  }\n}\n</script>\n\n<style scoped>\n.cell-title{\n  margin-top: 1rem;\n  font-size:20px;\n}\n.bi{\n  padding-right: 0.8rem;\n}\n\n.form-group,.btn{\n  width: 80%;\n}\n.form-p{\n  margin: 0 auto;\n}\n</style>\n"],"sourceRoot":"src/views/my/setting"}]}