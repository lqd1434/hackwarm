{"remainingRequest":"/Users/lqd/WebstormProjects/warm/node_modules/babel-loader/lib/index.js!/Users/lqd/WebstormProjects/warm/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/lqd/WebstormProjects/warm/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lqd/WebstormProjects/warm/src/views/my/MyInfo.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lqd/WebstormProjects/warm/src/views/my/MyInfo.vue","mtime":1618723091477},{"path":"/Users/lqd/WebstormProjects/warm/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lqd/WebstormProjects/warm/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/lqd/WebstormProjects/warm/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lqd/WebstormProjects/warm/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgY3JlYXRlTmFtZXNwYWNlZEhlbHBlcnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IFNldHRpbmcgZnJvbSAiQC92aWV3cy9teS9zZXR0aW5nL1NldHRpbmciOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwpjb25zdCB7CiAgbWFwU3RhdGUsCiAgbWFwTXV0YXRpb25zCn0gPSBjcmVhdGVOYW1lc3BhY2VkSGVscGVycygnd2FybScpOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIk15SW5mbyIsCiAgY29tcG9uZW50czogewogICAgU2V0dGluZwogIH0sCgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VySWNvbjogJycKICAgIH07CiAgfSwKCiAgY29tcHV0ZWQ6IHsgLi4ubWFwU3RhdGUoWyd1c2VyJywgJ215UG9zdHMnXSkKICB9LAoKICBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRBbGxQb3N0KCkudGhlbihyZXMgPT4gewogICAgICB0aGlzLnNldE15UG9zdHMocmVzLmRhdGEucG9zdHMpOwogICAgfSk7CiAgfSwKCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuY2hhbmdlSXNTaG93Rm9vdGVyTWVudSh0cnVlKTsKICAgIHRoaXMudXNlckljb24gPSAnL2ltYWdlcy8nICsgdGhpcy51c2VyLmljb247CiAgfSwKCiAgbWV0aG9kczogeyAuLi5tYXBNdXRhdGlvbnMoWydjaGFuZ2VJc1Nob3dGb290ZXJNZW51JywgJ3NldE15UG9zdHMnXSksCgogICAgZ2V0QWxsUG9zdCgpIHsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gewogICAgICAgIGF4aW9zKHsKICAgICAgICAgIHVybDogJy9hcGkvYXV0aC9teXBvc3RzJywKICAgICAgICAgIG1ldGhvZDogJ2dldCcsCiAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgIEF1dGhvcml6YXRpb246ICdCZWFyZXIgJyArIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdteVRva2VuJykKICAgICAgICAgIH0KICAgICAgICB9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PT0gMCkgewogICAgICAgICAgICByZXNvbHZlKHJlcy5kYXRhKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuJHRvYXN0KHsKICAgICAgICAgICAgICB0eXBlOiAnZmFpbCcsCiAgICAgICAgICAgICAgbWVzc2FnZTogcmVzLmRhdGEubXNnCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCgogICAgZ2V0SW1hZ2VzKHR5cGUpIHsKICAgICAgbGV0IHJlc3VsdCA9ICcnOwoKICAgICAgaWYgKHR5cGUgPT09IDEpIHsKICAgICAgICByZXN1bHQgPSAnc2Nob29sVHJlZS5wbmcnOwogICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IDIpIHsKICAgICAgICByZXN1bHQgPSAnaGFwcHlUcmVlLnBuZyc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmVzdWx0ID0gJ2Fubm95VHJlZS5wbmcnOwogICAgICB9CgogICAgICByZXR1cm4gcmVzdWx0OwogICAgfQoKICB9Cn07"},{"version":3,"sources":["MyInfo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDA,SAAA,uBAAA,QAAA,MAAA;AACA,OAAA,OAAA,MAAA,4BAAA;AACA,OAAA,KAAA,MAAA,OAAA;AACA,MAAA;AAAA,EAAA,QAAA;AAAA,EAAA;AAAA,IAAA,uBAAA,CAAA,MAAA,CAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,QADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA;AADA,GAFA;;AAKA,EAAA,IAAA,GAAA;AACA,WAAA;AACA,MAAA,QAAA,EAAA;AADA,KAAA;AAGA,GATA;;AAUA,EAAA,QAAA,EAAA,EACA,GAAA,QAAA,CAAA,CAAA,MAAA,EAAA,SAAA,CAAA;AADA,GAVA;;AAaA,EAAA,OAAA,GAAA;AACA,SAAA,UAAA,GAAA,IAAA,CAAA,GAAA,IAAA;AACA,WAAA,UAAA,CAAA,GAAA,CAAA,IAAA,CAAA,KAAA;AACA,KAFA;AAGA,GAjBA;;AAkBA,EAAA,OAAA,GAAA;AACA,SAAA,sBAAA,CAAA,IAAA;AACA,SAAA,QAAA,GAAA,aAAA,KAAA,IAAA,CAAA,IAAA;AACA,GArBA;;AAsBA,EAAA,OAAA,EAAA,EACA,GAAA,YAAA,CAAA,CAAA,wBAAA,EAAA,YAAA,CAAA,CADA;;AAEA,IAAA,UAAA,GAAA;AACA,aAAA,IAAA,OAAA,CAAA,OAAA,IAAA;AACA,QAAA,KAAA,CAAA;AACA,UAAA,GAAA,EAAA,mBADA;AAEA,UAAA,MAAA,EAAA,KAFA;AAGA,UAAA,OAAA,EAAA;AACA,YAAA,aAAA,EAAA,YAAA,YAAA,CAAA,OAAA,CAAA,SAAA;AADA;AAHA,SAAA,CAAA,CAMA,IANA,CAMA,GAAA,IAAA;AACA,cAAA,GAAA,CAAA,IAAA,CAAA,IAAA,KAAA,CAAA,EAAA;AACA,YAAA,OAAA,CAAA,GAAA,CAAA,IAAA,CAAA;AACA,WAFA,MAEA;AACA,iBAAA,MAAA,CAAA;AACA,cAAA,IAAA,EAAA,MADA;AAEA,cAAA,OAAA,EAAA,GAAA,CAAA,IAAA,CAAA;AAFA,aAAA;AAIA;AACA,SAfA;AAgBA,OAjBA,CAAA;AAkBA,KArBA;;AAsBA,IAAA,SAAA,CAAA,IAAA,EAAA;AACA,UAAA,MAAA,GAAA,EAAA;;AACA,UAAA,IAAA,KAAA,CAAA,EAAA;AACA,QAAA,MAAA,GAAA,gBAAA;AACA,OAFA,MAEA,IAAA,IAAA,KAAA,CAAA,EAAA;AACA,QAAA,MAAA,GAAA,eAAA;AACA,OAFA,MAEA;AACA,QAAA,MAAA,GAAA,eAAA;AACA;;AACA,aAAA,MAAA;AACA;;AAhCA;AAtBA,CAAA","sourcesContent":["<template>\n  <div id=\"root\">\n    <div class=\"user animate__animated animate__fadeInDown\">\n      <div class=\"card user-info\">\n        <div class=\"row no-gutters\">\n          <div class=\"col-9\">\n            <div class=\"card-body\">\n              <h3 class=\"card-title username\">{{ user.name }}</h3>\n              <p class=\"card-text user-sign\">{{user.description}}</p>\n            </div>\n          </div>\n          <div class=\"col-2\">\n            <van-image\n                class=\"user-icon shine1 avatar mr-2\"\n                width=\"5rem\"\n                height=\"5rem\"\n                round\n                fit=\"cover\"\n                :src=\"userIcon\"\n            />\n            <i class=\"bi bi-pencil-square\"></i>\n          </div>\n        </div>\n        <div class=\"row no-gutters h-auto text-center\">\n          <div class=\"col-2\">{{ myPosts.length }}</div>\n          <div class=\"col-2\">55</div>\n          <div class=\"col-2\">88</div>\n        </div>\n        <div class=\"row no-gutters h-25 text-center\">\n          <div class=\"col-2 text-info\">发布</div>\n          <div class=\"col-2 text-primary\">回复</div>\n          <div class=\"col-2 text-danger\">心情</div>\n        </div>\n      </div>\n    </div>\n    <div class=\"animate__animated animate__fadeInUp\">\n      <van-tabbar route :fixed=\"false\" class=\"op-icon\">\n        <van-tabbar-item replace to=\"/update\" icon=\"bi bi-eye-fill\">浏览历史</van-tabbar-item>\n        <van-tabbar-item replace to=\"/myPosts\" icon=\"bi bi-hourglass-split\">审核进度</van-tabbar-item>\n        <van-tabbar-item replace to=\"/search\" icon=\"service\">帮助反馈</van-tabbar-item>\n      </van-tabbar>\n    </div>\n    <div>\n      <Setting></Setting>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {createNamespacedHelpers} from 'vuex'\nimport Setting from \"@/views/my/setting/Setting\";\nimport axios from \"axios\";\nconst { mapState,mapMutations } = createNamespacedHelpers('warm')\nexport default {\n  name: \"MyInfo\",\n  components:{\n    Setting\n  },\n  data () {\n    return{\n      userIcon: ''\n    }\n  },\n  computed:{\n    ...mapState(['user','myPosts'])\n  },\n  created() {\n    this.getAllPost().then((res)=>{\n      this.setMyPosts(res.data.posts)\n    })\n  },\n  mounted() {\n    this.changeIsShowFooterMenu(true)\n    this.userIcon ='/images/' +this.user.icon\n  },\n  methods:{\n    ...mapMutations(['changeIsShowFooterMenu','setMyPosts']),\n    getAllPost(){\n      return new Promise(((resolve) => {\n        axios({\n          url:'/api/auth/myposts',\n          method:'get',\n          headers:{\n            Authorization:'Bearer ' + localStorage.getItem('myToken')\n          }\n        }).then((res)=>{\n          if (res.data.code === 0){\n            resolve(res.data)\n          } else {\n            this.$toast({\n              type: 'fail',\n              message:res.data.msg\n            })\n          }\n        })\n      }))\n    },\n    getImages(type){\n      let result = ''\n      if (type === 1){\n        result='schoolTree.png'\n      } else if (type === 2){\n        result='happyTree.png'\n      } else {\n        result='annoyTree.png'\n      }\n      return result\n    }\n  }\n}\n</script>\n\n<style scoped>\n#root{\n  display: block;\n  height: 100%;\n  width: 100%;\n  background: url(\"/images/img_2.png\");\n}\n.user-info{\n  margin-bottom: 30px;\n  background-color: #F5F5F5;\n  height: 12rem;\n  border-radius: 0 0 30px 30px!important;\n}\n.user-icon{\n  border: lightsteelblue 1px solid;\n  margin-top: 1.4rem!important;\n}\n.bi-pencil-square{\n  position: absolute;\n  font-size: 18px;\n  top: 5.1rem;\n  right: 0.8rem;\n  z-index: 2;\n}\n.user-sign{\n  color: #6f42c1;\n}\n.username{\n  color: #1fc39e;\n}\n.op-icon{\n  color: #000000;\n  font-size: 20px;\n  font-weight: 500;\n}\n.op-icon .van-tabbar-item {\n  border: 0!important;\n  background-color: white;\n}\n.work-btn{\n  margin-top: 1.2rem;\n}\n.btn{\n  margin-left: 0.8rem;\n  border-radius: 20px;\n  background-color: #000000;\n  color: white;\n}\n.work-content{\n  margin-top: 1.6rem;\n}\n.work-item{\n  border-radius: 20px;\n  margin-bottom: 0.8rem;\n}\n.work-item h6{\n  margin-top: 0.6rem;\n  padding-bottom: 0!important;\n  margin-bottom: 0;\n}\n.work-text{\n  font-size: 14px;\n  width: 10rem;\n  color: #888888;\n  display: inline-block;\n  overflow: hidden;\n  margin-bottom: 0;\n  padding-bottom: 0;\n}\n.work-like{\n  margin-top: -0.6rem;\n  font-size: 14px;\n  padding-right: 1rem;\n  color: #888888;\n  text-align: right;\n}\n@-webkit-keyframes  shine1 {\n  from { -webkit-box-shadow: 0 0 5px #bbb; }\n  20% {-webkit-box-shadow: 0 0 10px #00FBE6}\n  40% {-webkit-box-shadow: 0 0 10px #6a1a21}\n  60% {-webkit-box-shadow: 0 0 10px #6f42c1}\n  80% {-webkit-box-shadow: 0 0 10px #1D84FF}\n  to { -webkit-box-shadow: 0 0 5px #bbb; }\n}\n.shine1{\n  -webkit-animation-name: shine1;\n  -webkit-animation-duration: 3s;\n  -webkit-animation-iteration-count: infinite;\n}\n.a1{\n  --animate-duration: 1.5s;\n}\n</style>\n"],"sourceRoot":"src/views/my"}]}