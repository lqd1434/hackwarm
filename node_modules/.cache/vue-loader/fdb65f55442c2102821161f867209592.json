{"remainingRequest":"/Users/lqd/WebstormProjects/warm/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lqd/WebstormProjects/warm/src/views/my/MyInfo.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lqd/WebstormProjects/warm/src/views/my/MyInfo.vue","mtime":1618723091477},{"path":"/Users/lqd/WebstormProjects/warm/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lqd/WebstormProjects/warm/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/lqd/WebstormProjects/warm/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lqd/WebstormProjects/warm/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7Y3JlYXRlTmFtZXNwYWNlZEhlbHBlcnN9IGZyb20gJ3Z1ZXgnCmltcG9ydCBTZXR0aW5nIGZyb20gIkAvdmlld3MvbXkvc2V0dGluZy9TZXR0aW5nIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKY29uc3QgeyBtYXBTdGF0ZSxtYXBNdXRhdGlvbnMgfSA9IGNyZWF0ZU5hbWVzcGFjZWRIZWxwZXJzKCd3YXJtJykKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJNeUluZm8iLAogIGNvbXBvbmVudHM6ewogICAgU2V0dGluZwogIH0sCiAgZGF0YSAoKSB7CiAgICByZXR1cm57CiAgICAgIHVzZXJJY29uOiAnJwogICAgfQogIH0sCiAgY29tcHV0ZWQ6ewogICAgLi4ubWFwU3RhdGUoWyd1c2VyJywnbXlQb3N0cyddKQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0QWxsUG9zdCgpLnRoZW4oKHJlcyk9PnsKICAgICAgdGhpcy5zZXRNeVBvc3RzKHJlcy5kYXRhLnBvc3RzKQogICAgfSkKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmNoYW5nZUlzU2hvd0Zvb3Rlck1lbnUodHJ1ZSkKICAgIHRoaXMudXNlckljb24gPScvaW1hZ2VzLycgK3RoaXMudXNlci5pY29uCiAgfSwKICBtZXRob2RzOnsKICAgIC4uLm1hcE11dGF0aW9ucyhbJ2NoYW5nZUlzU2hvd0Zvb3Rlck1lbnUnLCdzZXRNeVBvc3RzJ10pLAogICAgZ2V0QWxsUG9zdCgpewogICAgICByZXR1cm4gbmV3IFByb21pc2UoKChyZXNvbHZlKSA9PiB7CiAgICAgICAgYXhpb3MoewogICAgICAgICAgdXJsOicvYXBpL2F1dGgvbXlwb3N0cycsCiAgICAgICAgICBtZXRob2Q6J2dldCcsCiAgICAgICAgICBoZWFkZXJzOnsKICAgICAgICAgICAgQXV0aG9yaXphdGlvbjonQmVhcmVyICcgKyBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbXlUb2tlbicpCiAgICAgICAgICB9CiAgICAgICAgfSkudGhlbigocmVzKT0+ewogICAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT09IDApewogICAgICAgICAgICByZXNvbHZlKHJlcy5kYXRhKQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy4kdG9hc3QoewogICAgICAgICAgICAgIHR5cGU6ICdmYWlsJywKICAgICAgICAgICAgICBtZXNzYWdlOnJlcy5kYXRhLm1zZwogICAgICAgICAgICB9KQogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgIH0pKQogICAgfSwKICAgIGdldEltYWdlcyh0eXBlKXsKICAgICAgbGV0IHJlc3VsdCA9ICcnCiAgICAgIGlmICh0eXBlID09PSAxKXsKICAgICAgICByZXN1bHQ9J3NjaG9vbFRyZWUucG5nJwogICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IDIpewogICAgICAgIHJlc3VsdD0naGFwcHlUcmVlLnBuZycKICAgICAgfSBlbHNlIHsKICAgICAgICByZXN1bHQ9J2Fubm95VHJlZS5wbmcnCiAgICAgIH0KICAgICAgcmV0dXJuIHJlc3VsdAogICAgfQogIH0KfQo="},{"version":3,"sources":["MyInfo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MyInfo.vue","sourceRoot":"src/views/my","sourcesContent":["<template>\n  <div id=\"root\">\n    <div class=\"user animate__animated animate__fadeInDown\">\n      <div class=\"card user-info\">\n        <div class=\"row no-gutters\">\n          <div class=\"col-9\">\n            <div class=\"card-body\">\n              <h3 class=\"card-title username\">{{ user.name }}</h3>\n              <p class=\"card-text user-sign\">{{user.description}}</p>\n            </div>\n          </div>\n          <div class=\"col-2\">\n            <van-image\n                class=\"user-icon shine1 avatar mr-2\"\n                width=\"5rem\"\n                height=\"5rem\"\n                round\n                fit=\"cover\"\n                :src=\"userIcon\"\n            />\n            <i class=\"bi bi-pencil-square\"></i>\n          </div>\n        </div>\n        <div class=\"row no-gutters h-auto text-center\">\n          <div class=\"col-2\">{{ myPosts.length }}</div>\n          <div class=\"col-2\">55</div>\n          <div class=\"col-2\">88</div>\n        </div>\n        <div class=\"row no-gutters h-25 text-center\">\n          <div class=\"col-2 text-info\">发布</div>\n          <div class=\"col-2 text-primary\">回复</div>\n          <div class=\"col-2 text-danger\">心情</div>\n        </div>\n      </div>\n    </div>\n    <div class=\"animate__animated animate__fadeInUp\">\n      <van-tabbar route :fixed=\"false\" class=\"op-icon\">\n        <van-tabbar-item replace to=\"/update\" icon=\"bi bi-eye-fill\">浏览历史</van-tabbar-item>\n        <van-tabbar-item replace to=\"/myPosts\" icon=\"bi bi-hourglass-split\">审核进度</van-tabbar-item>\n        <van-tabbar-item replace to=\"/search\" icon=\"service\">帮助反馈</van-tabbar-item>\n      </van-tabbar>\n    </div>\n    <div>\n      <Setting></Setting>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {createNamespacedHelpers} from 'vuex'\nimport Setting from \"@/views/my/setting/Setting\";\nimport axios from \"axios\";\nconst { mapState,mapMutations } = createNamespacedHelpers('warm')\nexport default {\n  name: \"MyInfo\",\n  components:{\n    Setting\n  },\n  data () {\n    return{\n      userIcon: ''\n    }\n  },\n  computed:{\n    ...mapState(['user','myPosts'])\n  },\n  created() {\n    this.getAllPost().then((res)=>{\n      this.setMyPosts(res.data.posts)\n    })\n  },\n  mounted() {\n    this.changeIsShowFooterMenu(true)\n    this.userIcon ='/images/' +this.user.icon\n  },\n  methods:{\n    ...mapMutations(['changeIsShowFooterMenu','setMyPosts']),\n    getAllPost(){\n      return new Promise(((resolve) => {\n        axios({\n          url:'/api/auth/myposts',\n          method:'get',\n          headers:{\n            Authorization:'Bearer ' + localStorage.getItem('myToken')\n          }\n        }).then((res)=>{\n          if (res.data.code === 0){\n            resolve(res.data)\n          } else {\n            this.$toast({\n              type: 'fail',\n              message:res.data.msg\n            })\n          }\n        })\n      }))\n    },\n    getImages(type){\n      let result = ''\n      if (type === 1){\n        result='schoolTree.png'\n      } else if (type === 2){\n        result='happyTree.png'\n      } else {\n        result='annoyTree.png'\n      }\n      return result\n    }\n  }\n}\n</script>\n\n<style scoped>\n#root{\n  display: block;\n  height: 100%;\n  width: 100%;\n  background: url(\"/images/img_2.png\");\n}\n.user-info{\n  margin-bottom: 30px;\n  background-color: #F5F5F5;\n  height: 12rem;\n  border-radius: 0 0 30px 30px!important;\n}\n.user-icon{\n  border: lightsteelblue 1px solid;\n  margin-top: 1.4rem!important;\n}\n.bi-pencil-square{\n  position: absolute;\n  font-size: 18px;\n  top: 5.1rem;\n  right: 0.8rem;\n  z-index: 2;\n}\n.user-sign{\n  color: #6f42c1;\n}\n.username{\n  color: #1fc39e;\n}\n.op-icon{\n  color: #000000;\n  font-size: 20px;\n  font-weight: 500;\n}\n.op-icon .van-tabbar-item {\n  border: 0!important;\n  background-color: white;\n}\n.work-btn{\n  margin-top: 1.2rem;\n}\n.btn{\n  margin-left: 0.8rem;\n  border-radius: 20px;\n  background-color: #000000;\n  color: white;\n}\n.work-content{\n  margin-top: 1.6rem;\n}\n.work-item{\n  border-radius: 20px;\n  margin-bottom: 0.8rem;\n}\n.work-item h6{\n  margin-top: 0.6rem;\n  padding-bottom: 0!important;\n  margin-bottom: 0;\n}\n.work-text{\n  font-size: 14px;\n  width: 10rem;\n  color: #888888;\n  display: inline-block;\n  overflow: hidden;\n  margin-bottom: 0;\n  padding-bottom: 0;\n}\n.work-like{\n  margin-top: -0.6rem;\n  font-size: 14px;\n  padding-right: 1rem;\n  color: #888888;\n  text-align: right;\n}\n@-webkit-keyframes  shine1 {\n  from { -webkit-box-shadow: 0 0 5px #bbb; }\n  20% {-webkit-box-shadow: 0 0 10px #00FBE6}\n  40% {-webkit-box-shadow: 0 0 10px #6a1a21}\n  60% {-webkit-box-shadow: 0 0 10px #6f42c1}\n  80% {-webkit-box-shadow: 0 0 10px #1D84FF}\n  to { -webkit-box-shadow: 0 0 5px #bbb; }\n}\n.shine1{\n  -webkit-animation-name: shine1;\n  -webkit-animation-duration: 3s;\n  -webkit-animation-iteration-count: infinite;\n}\n.a1{\n  --animate-duration: 1.5s;\n}\n</style>\n"]}]}