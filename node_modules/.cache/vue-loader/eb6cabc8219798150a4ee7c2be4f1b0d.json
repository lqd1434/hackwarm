{"remainingRequest":"/Users/lqd/WebstormProjects/warm/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lqd/WebstormProjects/warm/src/views/my/setting/UpdateInfo.vue?vue&type=style&index=0&id=6db9d56f&scoped=true&lang=css&","dependencies":[{"path":"/Users/lqd/WebstormProjects/warm/src/views/my/setting/UpdateInfo.vue","mtime":1618730519638},{"path":"/Users/lqd/WebstormProjects/warm/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lqd/WebstormProjects/warm/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/lqd/WebstormProjects/warm/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/lqd/WebstormProjects/warm/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lqd/WebstormProjects/warm/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi51c2VyLWljb257CiAgbWFyZ2luLXRvcDogM3JlbTsKICBib3gtc2hhZG93OiAwIDAgMTBweCAjODg4ODg4Owp9Ci5hcmVhLUluZm97CiAgd2lkdGg6IDgwJTsKICBtYXJnaW46IDJyZW0gYXV0bzsKICBwYWRkaW5nLXRvcDogMS4zcmVtOwogIGJvcmRlci1yYWRpdXM6IDJyZW07CiAgYm94LXNoYWRvdzogMCAwIDEwcHggIzg4ODg4ODsKfQouaWNvbi1ncm91cHsKICBtYXJnaW4tbGVmdDogMXJlbTsKfQouaWNvbnsKICB3aWR0aDogNnJlbTsKfQouZ2VuZGVyewogIGNvbG9yOiBibGFjazsKICBwYWRkaW5nLWxlZnQ6IDJyZW07CiAgcGFkZGluZy1yaWdodDogMi40cmVtOwp9Ci5zZXgtYnRuewogIGZvbnQtc2l6ZTogMTRweDsKICBib3JkZXItcmFkaXVzOiAxcmVtOwogIHdpZHRoOiAzLjZyZW07CiAgYm9yZGVyOiBibGFjayAxcHggc29saWQ7Cn0KLnN1Ym1pdC1idG57CiAgaGVpZ2h0OiAzcmVtOwogIGJvcmRlci1yYWRpdXM6IDEuNXJlbTsKICBtYXJnaW46MCBhdXRvOwp9Ci5mb3JtLWNvbnRyb2x7CiAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogIHdpZHRoOiA2MCU7CiAgYm9yZGVyOiAwIWltcG9ydGFudDsKfQouaW5wdXQtZ3JvdXB7CiAgbWFyZ2luLWJvdHRvbTogMDsKICBwYWRkaW5nLWJvdHRvbTogMXJlbTsKICB3aWR0aDogOTYlOwp9Ci5mb3JtLWNvbnRyb2w6Zm9jdXN7CiAgYm94LXNoYWRvdzogbm9uZSFpbXBvcnRhbnQ7Cn0KLmlucHV0LWdyb3VwLXRleHR7CiAgYmFja2dyb3VuZDogd2hpdGU7CiAgYm9yZGVyOiAwOwp9Ci5pbmZvLWxhYmVsewogIGJvcmRlci1yaWdodDogIzg4ODg4OCAxcHggc29saWQ7CiAgcGFkZGluZy1yaWdodDogMnJlbTsKICBwYWRkaW5nLWxlZnQ6IDJyZW07Cn0K"},{"version":3,"sources":["UpdateInfo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"UpdateInfo.vue","sourceRoot":"src/views/my/setting","sourcesContent":["<template>\n  <div>\n    <div v-if=\"!isShowIconPicker\">\n      <van-nav-bar\n          title=\"修改资料\"\n          left-text=\"返回\"\n          left-arrow\n          @click-left=\"onClickLeft1\"\n      />\n      <div style=\"text-align:center \">\n        <van-image\n            class=\"user-icon\"\n            round\n            width=\"10rem\"\n            height=\"10rem\"\n            fit=\"cover\"\n            :src=\"'/images/'+icon\"\n            @click=\"isShowIconPicker = true\"\n        />\n      </div>\n      <div class=\"card area-Info\">\n        <p>\n          <span class=\"info-label\">昵称</span><input class=\"form-control\" v-model=\"name1\" placeholder=\"请输入昵称\"/>\n        </p>\n        <p>\n          <span class=\"gender\">性别</span>\n          <button  type=\"button\" class=\"btn sex-btn mr-2\" ref=\"man\" @click=\"changeGender('男')\">男</button>\n          <button  class=\"btn sex-btn\" ref=\"women\" type=\"button\" @click=\"changeGender('女')\">女</button>\n        </p>\n        <p>\n          <span class=\"info-label\">生日</span>\n          <input type=\"text\" class=\"form-control\" v-model=\"birth\" placeholder=\"选择生日\" @focus=\"isShowPicker=true\"/>\n          <van-popup\n              v-model=\"isShowPicker\"\n              position=\"bottom\"\n              :style=\"{ height: '40%' }\">\n            <van-datetime-picker\n                v-model=\"currentDate\"\n                type=\"date\"\n                title=\"选择年月日\"\n                :min-date=\"minDate\"\n                :max-date=\"maxDate\"\n                @confirm=\"confirmTime\"\n                @cancel=\"isShowPicker=false\"\n            />\n          </van-popup>\n        </p>\n        <div class=\"input-group\">\n          <span class=\"info-label\" style=\"height: 1.3rem;margin-top: 0.5rem;padding-top: 0\">签名</span>\n          <input type=\"text\" v-model=\"description\" class=\"form-control info-sign\" placeholder=\"请输入签名\" aria-describedby=\"basic-addon2\">\n          <div class=\"input-group-append\">\n            <span class=\"input-group-text\" id=\"basic-addon2\">{{ description.length }}/15</span>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div v-if=\"isShowIconPicker\">\n      <van-nav-bar\n          title=\"头像选择\"\n          left-text=\"返回\"\n          right-text=\"确认\"\n          left-arrow\n          @click-left=\"this.isShowIconPicker = false\"\n          @click-right=\"onClickRight\"\n      />\n      <div class=\"d-flex row justify-content-start icon-group\">\n        <van-radio-group v-model=\"radio\" v-for=\"n in 7\" :key=\"n\">\n          <van-radio :name=\"n\">\n            <img :src=\"'/images/'+n+'.png'\" class=\"icon\" alt=\"...\">\n          </van-radio>\n        </van-radio-group>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {createNamespacedHelpers} from 'vuex'\nimport axios from \"axios\";\nconst { mapState,mapMutations } = createNamespacedHelpers('warm')\nexport default {\n  name: \"UpdateInfo\",\n  data(){\n    return{\n      isShowIconPicker:false,\n      radio: '',\n\n      anGender:null,\n      changedUserInfo: null,\n      ensurePassword: '',\n      fileList: [],\n      isShowPicker: false,\n      currentDate: null,\n      icon:'',\n      name1:'',\n      gender:'',\n      description:'',\n      birth:'',\n      minDate: new Date(1960, 0, 1),\n      maxDate: new Date(2025, 10, 1),\n    }\n  },\n  computed:{\n    ...mapState(['user'])\n  },\n  created() {\n    const newDate = new Date()\n    this.currentDate = new Date(newDate.getFullYear(),newDate.getMonth(),newDate.getDate())\n  },\n  mounted() {\n    console.log(this.user)\n    console.log(this.user.name)\n    this.icon = this.user.icon\n    this.name1 = this.user.name\n    this.birth = this.user.icon\n    this.description = this.user.description\n    this.gender = this.user.gender\n    console.log(this.name1)\n  },\n  methods: {\n    ...mapMutations([]),\n    changeGender(data){\n      this.gender = data\n      if (data==='男'){\n        this.$refs.man.style.backgroundColor = 'black'\n        this.$refs.man.style.color = 'white'\n        this.$refs.women.style.color = 'black'\n        this.$refs.women.style.backgroundColor = 'white'\n      } else {\n        this.$refs.man.style.backgroundColor = 'white'\n        this.$refs.man.style.color = 'black'\n        this.$refs.women.style.color = 'white'\n        this.$refs.women.style.backgroundColor = 'black'\n      }\n    },\n    onClickLeft1(){\n      console.log('提交')\n      const data1 = JSON.stringify({\n        name:this.name1,\n        birth:this.birth,\n        gender:this.gender,\n        description:this.description,\n        icon:this.icon\n      })\n      axios({\n        url:'/api/auth/me',\n        method:'put',\n        headers:{\n          Authorization:'Bearer ' + localStorage.getItem('myToken')\n        },\n        data:data1\n      }).then(()=>{\n        this.$router.push('/account')\n      })\n      //     .then((res)=>{\n      //   // if (res.data.code === 0) {\n      //   //   this.$toast({\n      //   //     type: 'success',\n      //   //     message:'修改成功'\n      //   //   })\n      //   //   this.$router.push('/account')\n      //   // } else {\n      //   //   this.$toast({\n      //   //     type: 'success',\n      //   //     message:'修改失败,请检查'\n      //   //   })\n      //   }\n      // })\n    },\n    confirmTime(){\n      console.log(this.currentDate.getFullYear())\n      console.log(this.currentDate.getMonth())\n      console.log(this.currentDate.getDate())\n      const birthDate =''+ this.currentDate.getFullYear()+'-'+this.currentDate.getMonth()+'-'+this.currentDate.getDate()\n      this.birth = birthDate\n      this.isShowPicker=false\n    },\n    onClickRight(){\n      this.icon = this.radio+'.png'\n      this.isShowIconPicker = false\n      console.log(this.radio)\n    }\n  },\n}\n</script>\n\n<style scoped>\n.user-icon{\n  margin-top: 3rem;\n  box-shadow: 0 0 10px #888888;\n}\n.area-Info{\n  width: 80%;\n  margin: 2rem auto;\n  padding-top: 1.3rem;\n  border-radius: 2rem;\n  box-shadow: 0 0 10px #888888;\n}\n.icon-group{\n  margin-left: 1rem;\n}\n.icon{\n  width: 6rem;\n}\n.gender{\n  color: black;\n  padding-left: 2rem;\n  padding-right: 2.4rem;\n}\n.sex-btn{\n  font-size: 14px;\n  border-radius: 1rem;\n  width: 3.6rem;\n  border: black 1px solid;\n}\n.submit-btn{\n  height: 3rem;\n  border-radius: 1.5rem;\n  margin:0 auto;\n}\n.form-control{\n  display: inline-block;\n  width: 60%;\n  border: 0!important;\n}\n.input-group{\n  margin-bottom: 0;\n  padding-bottom: 1rem;\n  width: 96%;\n}\n.form-control:focus{\n  box-shadow: none!important;\n}\n.input-group-text{\n  background: white;\n  border: 0;\n}\n.info-label{\n  border-right: #888888 1px solid;\n  padding-right: 2rem;\n  padding-left: 2rem;\n}\n</style>\n\n"]}]}