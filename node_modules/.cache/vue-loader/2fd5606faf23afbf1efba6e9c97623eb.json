{"remainingRequest":"/Users/lqd/WebstormProjects/warm/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lqd/WebstormProjects/warm/src/views/my/UpdateInfo.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lqd/WebstormProjects/warm/src/views/my/UpdateInfo.vue","mtime":1618126835335},{"path":"/Users/lqd/WebstormProjects/warm/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lqd/WebstormProjects/warm/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/lqd/WebstormProjects/warm/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lqd/WebstormProjects/warm/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGNyZWF0ZU5hbWVzcGFjZWRIZWxwZXJzIH0gZnJvbSAndnVleCcKY29uc3QgeyBtYXBTdGF0ZSB9ID0gY3JlYXRlTmFtZXNwYWNlZEhlbHBlcnMoJ3dhcm0nKQpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlVwZGF0ZUluZm8iLAogIGRhdGEoKXsKICAgIHJldHVybnsKICAgICAgY2hhbmdlZFVzZXJJbmZvOiB7aWQ6IDAsdXNlcm5hbWU6JycscGFzc3dvcmQ6JycsbXlTaWduOicnfSwKICAgICAgZW5zdXJlUGFzc3dvcmQ6ICcnLAogICAgICBmaWxlTGlzdDogW10KICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmNoYW5nZWRVc2VySW5mby5pZCA9IHRoaXMudXNlci5pZAogICAgdGhpcy5jaGFuZ2VkVXNlckluZm8udXNlcm5hbWUgPSB0aGlzLnVzZXIudXNlcm5hbWUKICAgIHRoaXMuY2hhbmdlZFVzZXJJbmZvLnBhc3N3b3JkID0gdGhpcy51c2VyLnBhc3N3b3JkCiAgICB0aGlzLmNoYW5nZWRVc2VySW5mby5teVNpZ24gPSB0aGlzLnVzZXIubXlTaWduCiAgICB0aGlzLmZpbGVMaXN0LnB1c2goe3VybDonL2ltYWdlcy8nK3RoaXMudXNlci5pY29ufSkKICB9LAogIG1ldGhvZHM6IHsKICAgIGJlZm9yZVJlYWQoZmlsZSkgewogICAgICBpZiAoZmlsZS50eXBlICE9PSAnaW1hZ2UvanBlZycpIHsKICAgICAgICB0aGlzLiR0b2FzdCgn6K+35LiK5LygIGpwZyDmoLzlvI/lm77niYcnKTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgcmV0dXJuIHRydWU7CiAgICB9LAogICAgLy8g6L+U5ZueIFByb21pc2UKICAgIGFzeW5jQmVmb3JlUmVhZChmaWxlKSB7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7CiAgICAgICAgaWYgKGZpbGUudHlwZSAhPT0gJ2ltYWdlL2pwZWcnKSB7CiAgICAgICAgICB0aGlzLiR0b2FzdCgn6K+35LiK5LygIGpwZyDmoLzlvI/lm77niYcnKTsKICAgICAgICAgIHJlamVjdCgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBsZXQgaW1nID0gbmV3IEZpbGUoWydmb28nXSwgJ2Jhci5qcGcnLCB7CiAgICAgICAgICAgIHR5cGU6ICdpbWFnZS9qcGVnJywKICAgICAgICAgIH0pOwogICAgICAgICAgcmVzb2x2ZShpbWcpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgb25DbGlja0xlZnQoKXsKICAgICAgdGhpcy4kcm91dGVyLmdvKC0xKQogICAgfSwKICAgIGVuc3VyZSgpewogICAgICBpZiAodGhpcy5lbnN1cmVQYXNzd29yZCE9PXRoaXMudXNlci5wYXNzd29yZCl7CiAgICAgICAgdGhpcy4kdG9hc3QoewogICAgICAgICAgbWVzc2FnZTogJ+S4pOasoei+k+WFpeeahOWvhueggeS4jeS4gOiHtCcsCiAgICAgICAgICBpY29uOiAnY3Jvc3MnLAogICAgICAgICAgdHlwZTogJ2ZhaWwnLAogICAgICAgIH0pCiAgICAgICAgdGhpcy5lbnN1cmVQYXNzd29yZCA9ICcnCiAgICAgIH0KICAgIH0sCiAgICBzdWJtaXQoKXsKICAgICAgY29uc29sZS5sb2coJ+aPkOS6pCcpCiAgICAgIGNvbnNvbGUubG9nKHRoaXMuY2hhbmdlZFVzZXJJbmZvKQogICAgfQogIH0sCiAgY29tcHV0ZWQ6ewogICAgLi4ubWFwU3RhdGUoWyd1c2VyJ10pCiAgfQp9Cg=="},{"version":3,"sources":["UpdateInfo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"UpdateInfo.vue","sourceRoot":"src/views/my","sourcesContent":["<template>\n  <div>\n    <van-nav-bar\n        title=\"修改资料\"\n        left-text=\"返回\"\n        left-arrow\n        @click-left=\"onClickLeft\"\n    />\n    <div style=\"text-align:center \">\n      <p >头像</p>\n      <van-uploader\n          v-model=\"fileList\"\n          image-fit=\"cover\"\n          max-count=\"1\"\n          :before-read=\"beforeRead\"\n      />\n    </div>\n\n    <van-cell-group style=\"margin-top: 30px\">\n      <van-field v-model.trim=\"changedUserInfo.username\" label=\"用户名\" type=\"text\" placeholder=\"请输入用户名\" />\n      <van-field v-model.trim=\"changedUserInfo.password\" label=\"密码\" type=\"password\" placeholder=\"请输入密码\" />\n      <van-field v-model.trim=\"ensurePassword\" @blur=\"ensure\" label=\"确认密码\" type=\"password\" placeholder=\"请输入密码\" />\n      <van-field\n          v-model.trim=\"changedUserInfo.mySign\"\n          rows=\"3\"\n          :autosize=\"true\"\n          label=\"我的个性签名\"\n          type=\"textarea\"\n          maxlength=\"100\"\n          placeholder=\"请输入我的签名\"\n          show-word-limit\n      />\n    </van-cell-group>\n    <van-button type=\"primary\" @click=\"submit\" block>提交</van-button>\n  </div>\n</template>\n\n<script>\nimport { createNamespacedHelpers } from 'vuex'\nconst { mapState } = createNamespacedHelpers('warm')\nexport default {\n  name: \"UpdateInfo\",\n  data(){\n    return{\n      changedUserInfo: {id: 0,username:'',password:'',mySign:''},\n      ensurePassword: '',\n      fileList: []\n    }\n  },\n  mounted() {\n    this.changedUserInfo.id = this.user.id\n    this.changedUserInfo.username = this.user.username\n    this.changedUserInfo.password = this.user.password\n    this.changedUserInfo.mySign = this.user.mySign\n    this.fileList.push({url:'/images/'+this.user.icon})\n  },\n  methods: {\n    beforeRead(file) {\n      if (file.type !== 'image/jpeg') {\n        this.$toast('请上传 jpg 格式图片');\n        return false;\n      }\n      return true;\n    },\n    // 返回 Promise\n    asyncBeforeRead(file) {\n      return new Promise((resolve, reject) => {\n        if (file.type !== 'image/jpeg') {\n          this.$toast('请上传 jpg 格式图片');\n          reject();\n        } else {\n          let img = new File(['foo'], 'bar.jpg', {\n            type: 'image/jpeg',\n          });\n          resolve(img);\n        }\n      });\n    },\n    onClickLeft(){\n      this.$router.go(-1)\n    },\n    ensure(){\n      if (this.ensurePassword!==this.user.password){\n        this.$toast({\n          message: '两次输入的密码不一致',\n          icon: 'cross',\n          type: 'fail',\n        })\n        this.ensurePassword = ''\n      }\n    },\n    submit(){\n      console.log('提交')\n      console.log(this.changedUserInfo)\n    }\n  },\n  computed:{\n    ...mapState(['user'])\n  }\n}\n</script>\n\n<style scoped>\n.van-cell{\n  margin-bottom: 10px;\n}\n</style>\n"]}]}