{"remainingRequest":"/Users/lqd/WebstormProjects/warm/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lqd/WebstormProjects/warm/src/components/Main.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lqd/WebstormProjects/warm/src/components/Main.vue","mtime":1618463713966},{"path":"/Users/lqd/WebstormProjects/warm/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lqd/WebstormProjects/warm/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/lqd/WebstormProjects/warm/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lqd/WebstormProjects/warm/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7Y3JlYXRlTmFtZXNwYWNlZEhlbHBlcnN9IGZyb20gJ3Z1ZXgnCgpjb25zdCB7IG1hcE11dGF0aW9ucywgbWFwQWN0aW9ucyxtYXBTdGF0ZSB9ID0gY3JlYXRlTmFtZXNwYWNlZEhlbHBlcnMoJ3dhcm0nKQpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ01haW4nLAogIGNvbXB1dGVkOnsKICAgIC4uLm1hcFN0YXRlKFsnaXNTaG93Rm9vdGVyTWVudSddKQogIH0sCiAgbW91bnRlZCAoKSB7CiAgICAvLyB0aGlzLm9wZW5Tb2NrZXQoKQogICAgdGhpcy4kcm91dGVyLnB1c2goJy9ob21lJykKICB9LAogIG1ldGhvZHM6ewogICAgLi4ubWFwTXV0YXRpb25zKFsndGVzdCcsJ2FkZE1lc3NhZ2VIaXN0b3J5Jywnc2V0U29ja2V0J10pLAogICAgLi4ubWFwQWN0aW9ucyhbJ3Rlc3RBY3Rpb24nXSksCiAgICBkb1Rlc3QoKXsKICAgICAgdGhpcy50ZXN0KCflk4jlk4gnKQogICAgICB0aGlzLnRlc3RBY3Rpb24oJ2hoJykKICAgIH0sCiAgICBhbmltYXRlIChkYXRhKXsKICAgICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRhdGEpCiAgICAgIGVsZW1lbnQuc3R5bGUudHJhbnNpdGlvbiA9ICd0cmFuc2Zvcm0gMTUwbXMgbGluZWFyJwogICAgICBlbGVtZW50LnN0eWxlLnRyYW5zZm9ybU9yaWdpbj0nNTAlIDAlJwogICAgICBlbGVtZW50LnN0eWxlLnRyYW5zZm9ybSA9ICdyb3RhdGUoMzBkZWcpJwogICAgICBzZXRUaW1lb3V0KCgpPT57CiAgICAgICAgZWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gPSAncm90YXRlKC0zMGRlZyknCiAgICAgIH0sMTUwKQogICAgICBzZXRUaW1lb3V0KCgpPT57CiAgICAgICAgZWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gPSAncm90YXRlKDBkZWcpJwogICAgICB9LDMwMCkKICAgIH0sCiAgICBvcGVuU29ja2V0ICgpIHsKICAgICAgaWYgKHR5cGVvZiAoV2ViU29ja2V0KSA9PT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICBjb25zb2xlLmxvZygn5oKo55qE5rWP6KeI5Zmo5LiN5pSv5oyBV2ViU29ja2V0JykKICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zb2xlLmxvZygn5oKo55qE5rWP6KeI5Zmo5pSv5oyBV2ViU29ja2V0JykKICAgICAgICBsZXQgc29ja2V0VXJsID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4OS9jaGF0LycgKyB0aGlzLnVzZXIuaWQKICAgICAgICBzb2NrZXRVcmwgPSBzb2NrZXRVcmwucmVwbGFjZSgnaHR0cHMnLCAnd3MnKS5yZXBsYWNlKCdodHRwJywgJ3dzJykKICAgICAgICB0aGlzLnNldFNvY2tldChuZXcgV2ViU29ja2V0KHNvY2tldFVybCkpCiAgICAgICAgLy8gdGhpcy5zb2NrZXQgPSBuZXcgV2ViU29ja2V0KHNvY2tldFVybCkKICAgICAgICAvLyDmiZPlvIDkuovku7YKICAgICAgICB0aGlzLnNvY2tldC5vbm9wZW4gPSAoKSA9PiB7CiAgICAgICAgICB0aGlzLiR0b2FzdCh7CiAgICAgICAgICAgIG1lc3NhZ2U6ICd3ZWJzb2NrZXTlt7LmiZPlvIAnLAogICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgICAgIH0pCiAgICAgICAgfQogICAgICAgIC8vIOiOt+W+l+a2iOaBr+S6i+S7tgogICAgICAgIHRoaXMuc29ja2V0Lm9ubWVzc2FnZSA9IChtc2cpID0+IHsKICAgICAgICAgICAgY29uc29sZS5sb2cobXNnKQogICAgICAgICAgICB0aGlzLmFkZE1lc3NhZ2VIaXN0b3J5KG1zZykKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgLy8g5Y+R55Sf5LqG6ZSZ6K+v5LqL5Lu2CiAgICAgICAgdGhpcy5zb2NrZXQub25lcnJvciA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCd3ZWJzb2NrZXTlj5HnlJ/kuobplJnor68nKQogICAgICAgIH0KICAgICAgfQogICAgfQp9Cg=="},{"version":3,"sources":["Main.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;AAeA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Main.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div>\n      <router-view></router-view>\n      <div class=\"footer-tabbar\" v-if=\"this.isShowFooterMenu\">\n        <van-tabbar route style=\"overflow: hidden\">\n          <van-tabbar-item replace to=\"/home\" icon=\"bi bi-house-door-fill\" :id=\"'1'\" @click=\"animate('1')\">主页</van-tabbar-item>\n          <van-tabbar-item replace to=\"/treeHole\" icon=\"bi bi-collection-fill\" :id=\"'2'\" @click=\"animate('2')\">树洞</van-tabbar-item>\n          <van-tabbar-item replace to=\"/talkList\" icon=\"bi bi-chat-dots-fill\" :id=\"'3'\" @click=\"animate('3')\">消息</van-tabbar-item>\n          <van-tabbar-item replace to=\"/mine\" icon=\"bi bi-person-circle\" :id=\"'4'\" @click=\"animate('4')\">我的</van-tabbar-item>\n        </van-tabbar>\n      </div>\n    </div>\n</template>\n\n<script>\nimport {createNamespacedHelpers} from 'vuex'\n\nconst { mapMutations, mapActions,mapState } = createNamespacedHelpers('warm')\nexport default {\n  name: 'Main',\n  computed:{\n    ...mapState(['isShowFooterMenu'])\n  },\n  mounted () {\n    // this.openSocket()\n    this.$router.push('/home')\n  },\n  methods:{\n    ...mapMutations(['test','addMessageHistory','setSocket']),\n    ...mapActions(['testAction']),\n    doTest(){\n      this.test('哈哈')\n      this.testAction('hh')\n    },\n    animate (data){\n      const element = document.getElementById(data)\n      element.style.transition = 'transform 150ms linear'\n      element.style.transformOrigin='50% 0%'\n      element.style.transform = 'rotate(30deg)'\n      setTimeout(()=>{\n        element.style.transform = 'rotate(-30deg)'\n      },150)\n      setTimeout(()=>{\n        element.style.transform = 'rotate(0deg)'\n      },300)\n    },\n    openSocket () {\n      if (typeof (WebSocket) === 'undefined') {\n        console.log('您的浏览器不支持WebSocket')\n      } else {\n        console.log('您的浏览器支持WebSocket')\n        let socketUrl = 'http://localhost:8089/chat/' + this.user.id\n        socketUrl = socketUrl.replace('https', 'ws').replace('http', 'ws')\n        this.setSocket(new WebSocket(socketUrl))\n        // this.socket = new WebSocket(socketUrl)\n        // 打开事件\n        this.socket.onopen = () => {\n          this.$toast({\n            message: 'websocket已打开',\n            type: 'success'\n          })\n        }\n        // 获得消息事件\n        this.socket.onmessage = (msg) => {\n            console.log(msg)\n            this.addMessageHistory(msg)\n          }\n        }\n        // 发生了错误事件\n        this.socket.onerror = function () {\n          console.log('websocket发生了错误')\n        }\n      }\n    }\n}\n</script>\n\n<style scoped>\n.footer-tabbar .van-tabbar-item {\n   border-top: #E2E2E2 1px solid;\n }\n\n.footer-tabbar{\n  display: block;\n  background-color: lightsteelblue!important;\n}\n</style>\n"]}]}