{"remainingRequest":"/Users/lqd/WebstormProjects/warm/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lqd/WebstormProjects/warm/src/views/auth/LoginAndRegister.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lqd/WebstormProjects/warm/src/views/auth/LoginAndRegister.vue","mtime":1618152247971},{"path":"/Users/lqd/WebstormProjects/warm/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lqd/WebstormProjects/warm/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/lqd/WebstormProjects/warm/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lqd/WebstormProjects/warm/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTG9naW5BbmRSZWdpc3RlciIsCiAgZGF0YSgpewogICAgcmV0dXJuewogICAgICBpc0ZvcmdvdDogZmFsc2UsCiAgICAgIGlzUmVnaXN0ZXI6IGZhbHNlLAogICAgICBpc1ZlcmlmaWVkOiBmYWxzZSwKICAgICAgaXNTZW5kOiBmYWxzZSwKICAgICAgaXNTaG93Q291bnREb3duOiBmYWxzZSwKCiAgICAgIGxvZ2luRW1haWw6ICcnLAogICAgICByZWdpc3RlckVtYWlsOiAnJywKICAgICAgdmVyaWZ5RW1haWw6ICcnLAoKICAgICAgbG9naW5QYXNzd29yZDogJycsCiAgICAgIHJlZ2lzdGVyUGFzc3dvcmQ6ICcnLAogICAgICBuZXdQYXNzd29yZDogJycsCgogICAgICBlbnN1cmVQYXNzd29yZDogJycsCiAgICAgIHN2YzpudWxsCiAgICB9CiAgfSwKICBtZXRob2RzOnsKICAgIG9uQ2xpY2tMZWZ0KCl7CiAgICAgIHRoaXMuaXNSZWdpc3RlciA9IGZhbHNlCiAgICAgIHRoaXMuaXNGb3Jnb3QgPSBmYWxzZQogICAgfSwKICAgIGRvTG9naW4oKXsKICAgICAgaWYgKHRoaXMubG9naW5FbWFpbCYmdGhpcy5sb2dpblBhc3N3b3JkKXsKICAgICAgICBjb25zb2xlLmxvZygn55m75b2VJykKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnaXNMb2dpbicsJ3RydWUnKQogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvJykKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiR0b2FzdCh7CiAgICAgICAgICB0eXBlOiAnZmFpbCcsCiAgICAgICAgICBtZXNzYWdlOifpgq7nrrHlkozlr4bnoIHkuI3og73kuLrnqbonCiAgICAgICAgfSkKICAgICAgfQogICAgfSwKICAgIGRvUmVnaXN0ZXIoKXsKICAgICAgaWYgKHRoaXMucmVnaXN0ZXJFbWFpbCYmdGhpcy5yZWdpc3RlclBhc3N3b3JkKXsKICAgICAgICBjb25zb2xlLmxvZygn55m75b2VJykKICAgICAgICB0aGlzLmVuc3VyZVBhc3N3b3JkID0gJycKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiR0b2FzdCh7CiAgICAgICAgICB0eXBlOiAnZmFpbCcsCiAgICAgICAgICBtZXNzYWdlOifpgq7nrrHlkozlr4bnoIHkuI3og73kuLrnqbonCiAgICAgICAgfSkKICAgICAgfQogICAgfSwKICAgIHRvRm9yZ290KCl7CiAgICAgIHRoaXMuaXNSZWdpc3RlciA9IGZhbHNlCiAgICAgIHRoaXMuaXNGb3Jnb3QgPSB0cnVlCiAgICB9LAogICAgdG9SZWdpc3RlcigpewogICAgICB0aGlzLmlzUmVnaXN0ZXIgPSB0cnVlCiAgICAgIHRoaXMuaXNGb3Jnb3QgPSBmYWxzZQogICAgfSwKICAgIHNlbmRFbWFpbCgpewogICAgICB0aGlzLmlzU2VuZCA9IHRydWUKICAgICAgdGhpcy5pc1Nob3dDb3VudERvd24gPSB0cnVlCiAgICAgIHNldFRpbWVvdXQoKCk9PnsKICAgICAgICB0aGlzLiRyZWZzLmNvdW50RG93bi5zdGFydCgpCiAgICAgIH0sMzAwKQogICAgICBzZXRUaW1lb3V0KCgpPT57CiAgICAgICAgdGhpcy5pc1NlbmQgPSBmYWxzZQogICAgICAgIHRoaXMuaXNTaG93Q291bnREb3duID0gZmFsc2UKICAgICAgfSw2MDAwMCkKICAgICAgY29uc29sZS5sb2coIuWPkemAgemqjOivgeeggSIpCiAgICB9LAogICAgc3VibWl0VmVyKCl7CiAgICAgIGlmICh0aGlzLnN2YyYmdGhpcy52ZXJpZnlFbWFpbCl7CiAgICAgICAgdGhpcy5pc1ZlcmlmaWVkID0gdHJ1ZQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJHRvYXN0KHsKICAgICAgICAgIHR5cGU6ICdmYWlsJywKICAgICAgICAgIG1lc3NhZ2U6J+mCrueuseWSjOmqjOivgeWQl+S4jeiDveS4uuepuicKICAgICAgICB9KQogICAgICB9CiAgICB9LAogICAgZW5zdXJlKGRhdGEpewogICAgICBpZiAoZGF0YT09PSduZXcnKXsKICAgICAgICBpZiAodGhpcy5uZXdQYXNzd29yZCE9PXRoaXMuZW5zdXJlUGFzc3dvcmQpewogICAgICAgICAgdGhpcy4kdG9hc3QoewogICAgICAgICAgICB0eXBlOiAnZmFpbCcsCiAgICAgICAgICAgIG1lc3NhZ2U6J+S4pOasoei+k+WFpeeahOWvhueggeS4jeS4gOiHtCcKICAgICAgICAgIH0pCiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGlmICh0aGlzLnJlZ2lzdGVyUGFzc3dvcmQhPT10aGlzLmVuc3VyZVBhc3N3b3JkKXsKICAgICAgICAgIHRoaXMuJHRvYXN0KHsKICAgICAgICAgICAgdHlwZTogJ2ZhaWwnLAogICAgICAgICAgICBtZXNzYWdlOifkuKTmrKHovpPlhaXnmoTlr4bnoIHkuI3kuIDoh7QnCiAgICAgICAgICB9KQogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIHN1Ym1pdE5ld1AoKXsKICAgICAgdGhpcy5pc0ZvcmdvdCA9IGZhbHNlCiAgICAgIHRoaXMuZW5zdXJlUGFzc3dvcmQgPSAnJwogICAgfQogIH0KfQo="},{"version":3,"sources":["LoginAndRegister.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"LoginAndRegister.vue","sourceRoot":"src/views/auth","sourcesContent":["<template>\n  <div>\n    <div v-if=\"!isForgot\">\n      <div v-if=\"!isRegister\">\n        <i class=\"bi bi-reply-fill back-icon p-5 mt-5\"></i>\n        <h4 style=\"text-align: center\" class=\"logo-text\">欢迎来到U&nbsp;&nbsp;share</h4>\n\n      </div>\n      <div v-if=\"isRegister\">\n        <form>\n          <van-nav-bar\n              title=\"用户注册\"\n              left-text=\"返回\"\n              left-arrow\n              @click-left=\"onClickLeft\"\n          />\n          <div class=\"form-group\">\n            <label for=\"Email2\">邮箱</label>\n            <input type=\"email\" v-model=\"registerEmail\" class=\"form-control\" id=\"Email2\" aria-describedby=\"emailHelp\">\n          </div>\n          <div class=\"form-group\">\n            <label for=\"Password2\">密码</label>\n            <input type=\"password\" v-model=\"registerPassword\" class=\"form-control\" id=\"Password2\">\n          </div>\n          <div class=\"form-group\">\n            <label for=\"Password3\">确认密码</label>\n            <input type=\"password\" v-model=\"ensurePassword\" @blur=\"ensure('reg')\" class=\"form-control\" id=\"Password3\">\n          </div>\n          <button type=\"button\" class=\"btn btn-primary btn-block btn-lg\" @click=\"doRegister\">提交</button>\n        </form>\n      </div>\n    </div>\n    <div v-if=\"isForgot\">\n      <div v-if=\"!isVerified\">\n        <van-nav-bar\n            title=\"密码找回\"\n            left-text=\"返回\"\n            left-arrow\n            @click-left=\"onClickLeft\"\n        />\n        <van-field\n            v-model.trim=\"verifyEmail\"\n            center\n            clearable\n            label=\"邮箱\"\n            type=\"email\"\n            placeholder=\"请输入邮箱\"\n        />\n        <van-field\n            v-model.trim=\"svc\"\n            center\n            clearable\n            label=\"短信验证码\"\n            placeholder=\"请输入短信验证码\"\n        >\n          <template #button v-if=\"!isVerified\">\n            <van-button size=\"small\" type=\"primary\" :disabled=\"isSend\" @click=\"sendEmail\">\n              发送验证码\n              <van-count-down\n                  v-if=\"isShowCountDown\"\n                  ref=\"countDown\"\n                  millisecond\n                  :time=\"60000\"\n                  :auto-start=\"false\"\n                  format=\"ss\"\n              />\n            </van-button>\n          </template>\n        </van-field>\n        <button type=\"button\" class=\"btn btn-primary btn-block btn-lg mt-1\" @click=\"submitVer\">提交</button>\n      </div>\n      <div v-if=\"isVerified\">\n        <van-field\n            v-model.trim=\"newPassword\"\n            center\n            clearable\n            type=\"password\"\n            label=\"新密码\"\n            placeholder=\"请输入新密码\"\n        />\n        <van-field\n            v-model.trim=\"ensurePassword\"\n            center\n            clearable\n            type=\"password\"\n            @blur=\"ensure('new')\"\n            label=\"确认密码\"\n            placeholder=\"请输入密码\"\n        />\n        <button type=\"button\" class=\"btn btn-primary btn-block btn-lg mt-1\" @click=\"submitNewP\">提交</button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"LoginAndRegister\",\n  data(){\n    return{\n      isForgot: false,\n      isRegister: false,\n      isVerified: false,\n      isSend: false,\n      isShowCountDown: false,\n\n      loginEmail: '',\n      registerEmail: '',\n      verifyEmail: '',\n\n      loginPassword: '',\n      registerPassword: '',\n      newPassword: '',\n\n      ensurePassword: '',\n      svc:null\n    }\n  },\n  methods:{\n    onClickLeft(){\n      this.isRegister = false\n      this.isForgot = false\n    },\n    doLogin(){\n      if (this.loginEmail&&this.loginPassword){\n        console.log('登录')\n        localStorage.setItem('isLogin','true')\n        this.$router.push('/')\n      } else {\n        this.$toast({\n          type: 'fail',\n          message:'邮箱和密码不能为空'\n        })\n      }\n    },\n    doRegister(){\n      if (this.registerEmail&&this.registerPassword){\n        console.log('登录')\n        this.ensurePassword = ''\n      } else {\n        this.$toast({\n          type: 'fail',\n          message:'邮箱和密码不能为空'\n        })\n      }\n    },\n    toForgot(){\n      this.isRegister = false\n      this.isForgot = true\n    },\n    toRegister(){\n      this.isRegister = true\n      this.isForgot = false\n    },\n    sendEmail(){\n      this.isSend = true\n      this.isShowCountDown = true\n      setTimeout(()=>{\n        this.$refs.countDown.start()\n      },300)\n      setTimeout(()=>{\n        this.isSend = false\n        this.isShowCountDown = false\n      },60000)\n      console.log(\"发送验证码\")\n    },\n    submitVer(){\n      if (this.svc&&this.verifyEmail){\n        this.isVerified = true\n      } else {\n        this.$toast({\n          type: 'fail',\n          message:'邮箱和验证吗不能为空'\n        })\n      }\n    },\n    ensure(data){\n      if (data==='new'){\n        if (this.newPassword!==this.ensurePassword){\n          this.$toast({\n            type: 'fail',\n            message:'两次输入的密码不一致'\n          })\n        }\n      } else {\n        if (this.registerPassword!==this.ensurePassword){\n          this.$toast({\n            type: 'fail',\n            message:'两次输入的密码不一致'\n          })\n        }\n      }\n    },\n    submitNewP(){\n      this.isForgot = false\n      this.ensurePassword = ''\n    }\n  }\n}\n</script>\n\n<style scoped>\n.logo-text{\n  color: black;\n  margin-top: 80px;\n  margin-bottom: 5px;\n}\n.bi{\n  font-size: 22px;\n}\n.logo-img{\n  margin-bottom: 30px;\n  margin-left: 33%;\n}\n.form-control{\n  height: 50px!important;\n}\n.login-btn{\n  width: 90%;\n  margin-left: 5%;\n}\n.op-url{\n  color: #409EFF;\n}\n@-webkit-keyframes  shine1 {\n  from { -webkit-box-shadow: 0 0 5px #bbb; }\n  20% {-webkit-box-shadow: 0 0 10px #00FBE6}\n  40% {-webkit-box-shadow: 0 0 10px #6a1a21}\n  60% {-webkit-box-shadow: 0 0 10px #6f42c1}\n  80% {-webkit-box-shadow: 0 0 10px #1D84FF}\n  to { -webkit-box-shadow: 0 0 5px #bbb; }\n}\n.shine1{\n  -webkit-animation-name: shine1;\n  -webkit-animation-duration: 3s;\n  -webkit-animation-iteration-count: infinite;\n}\n</style>\n"]}]}