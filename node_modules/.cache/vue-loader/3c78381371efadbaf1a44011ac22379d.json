{"remainingRequest":"/Users/lqd/WebstormProjects/warm/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lqd/WebstormProjects/warm/src/views/my/UpdateInfo.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lqd/WebstormProjects/warm/src/views/my/UpdateInfo.vue","mtime":1618463713889},{"path":"/Users/lqd/WebstormProjects/warm/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lqd/WebstormProjects/warm/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/lqd/WebstormProjects/warm/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lqd/WebstormProjects/warm/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7Y3JlYXRlTmFtZXNwYWNlZEhlbHBlcnN9IGZyb20gJ3Z1ZXgnCgpjb25zdCB7IG1hcFN0YXRlIH0gPSBjcmVhdGVOYW1lc3BhY2VkSGVscGVycygnd2FybScpCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiVXBkYXRlSW5mbyIsCiAgZGF0YSgpewogICAgcmV0dXJuewogICAgICBjaGFuZ2VkVXNlckluZm86IHtpZDogMCx1c2VybmFtZTonJyxwYXNzd29yZDonJyxteVNpZ246Jyd9LAogICAgICBlbnN1cmVQYXNzd29yZDogJycsCiAgICAgIGZpbGVMaXN0OiBbXQogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuY2hhbmdlZFVzZXJJbmZvLmlkID0gdGhpcy51c2VyLmlkCiAgICB0aGlzLmNoYW5nZWRVc2VySW5mby51c2VybmFtZSA9IHRoaXMudXNlci51c2VybmFtZQogICAgdGhpcy5jaGFuZ2VkVXNlckluZm8ucGFzc3dvcmQgPSB0aGlzLnVzZXIucGFzc3dvcmQKICAgIHRoaXMuY2hhbmdlZFVzZXJJbmZvLm15U2lnbiA9IHRoaXMudXNlci5teVNpZ24KICAgIHRoaXMuZmlsZUxpc3QucHVzaCh7dXJsOicvaW1hZ2VzLycrdGhpcy51c2VyLmljb259KQogIH0sCiAgbWV0aG9kczogewogICAgYmVmb3JlUmVhZChmaWxlKSB7CiAgICAgIGlmIChmaWxlLnR5cGUgIT09ICdpbWFnZS9qcGVnJykgewogICAgICAgIHRoaXMuJHRvYXN0KCfor7fkuIrkvKAganBnIOagvOW8j+WbvueJhycpOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0sCiAgICAvLyDov5Tlm54gUHJvbWlzZQogICAgYXN5bmNCZWZvcmVSZWFkKGZpbGUpIHsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgICBpZiAoZmlsZS50eXBlICE9PSAnaW1hZ2UvanBlZycpIHsKICAgICAgICAgIHRoaXMuJHRvYXN0KCfor7fkuIrkvKAganBnIOagvOW8j+WbvueJhycpOwogICAgICAgICAgcmVqZWN0KCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGxldCBpbWcgPSBuZXcgRmlsZShbJ2ZvbyddLCAnYmFyLmpwZycsIHsKICAgICAgICAgICAgdHlwZTogJ2ltYWdlL2pwZWcnLAogICAgICAgICAgfSk7CiAgICAgICAgICByZXNvbHZlKGltZyk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBvbkNsaWNrTGVmdCgpewogICAgICB0aGlzLiRyb3V0ZXIuZ28oLTEpCiAgICB9LAogICAgZW5zdXJlKCl7CiAgICAgIGlmICh0aGlzLmVuc3VyZVBhc3N3b3JkIT09dGhpcy51c2VyLnBhc3N3b3JkKXsKICAgICAgICB0aGlzLiR0b2FzdCh7CiAgICAgICAgICBtZXNzYWdlOiAn5Lik5qyh6L6T5YWl55qE5a+G56CB5LiN5LiA6Ie0JywKICAgICAgICAgIGljb246ICdjcm9zcycsCiAgICAgICAgICB0eXBlOiAnZmFpbCcsCiAgICAgICAgfSkKICAgICAgICB0aGlzLmVuc3VyZVBhc3N3b3JkID0gJycKICAgICAgfQogICAgfSwKICAgIHN1Ym1pdCgpewogICAgICBjb25zb2xlLmxvZygn5o+Q5LqkJykKICAgICAgY29uc29sZS5sb2codGhpcy5jaGFuZ2VkVXNlckluZm8pCiAgICB9CiAgfSwKICBjb21wdXRlZDp7CiAgICAuLi5tYXBTdGF0ZShbJ3VzZXInXSkKICB9Cn0K"},{"version":3,"sources":["UpdateInfo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"UpdateInfo.vue","sourceRoot":"src/views/my","sourcesContent":["<template>\n  <div>\n    <van-nav-bar\n        title=\"修改资料\"\n        left-text=\"返回\"\n        left-arrow\n        @click-left=\"onClickLeft\"\n    />\n    <div style=\"text-align:center \">\n      <p >头像</p>\n      <van-uploader\n          v-model=\"fileList\"\n          image-fit=\"cover\"\n          max-count=\"1\"\n          :before-read=\"beforeRead\"\n      />\n    </div>\n\n    <van-cell-group style=\"margin-top: 30px\">\n      <van-field v-model.trim=\"changedUserInfo.username\" label=\"用户名\" type=\"text\" placeholder=\"请输入用户名\" />\n      <van-field v-model.trim=\"changedUserInfo.password\" label=\"密码\" type=\"password\" placeholder=\"请输入密码\" />\n      <van-field v-model.trim=\"ensurePassword\" @blur=\"ensure\" label=\"确认密码\" type=\"password\" placeholder=\"请输入密码\" />\n      <van-field\n          v-model.trim=\"changedUserInfo.mySign\"\n          rows=\"3\"\n          :autosize=\"true\"\n          label=\"我的个性签名\"\n          type=\"textarea\"\n          maxlength=\"100\"\n          placeholder=\"请输入我的签名\"\n          show-word-limit\n      />\n    </van-cell-group>\n    <van-button type=\"primary\" @click=\"submit\" block>提交</van-button>\n  </div>\n</template>\n\n<script>\nimport {createNamespacedHelpers} from 'vuex'\n\nconst { mapState } = createNamespacedHelpers('warm')\nexport default {\n  name: \"UpdateInfo\",\n  data(){\n    return{\n      changedUserInfo: {id: 0,username:'',password:'',mySign:''},\n      ensurePassword: '',\n      fileList: []\n    }\n  },\n  mounted() {\n    this.changedUserInfo.id = this.user.id\n    this.changedUserInfo.username = this.user.username\n    this.changedUserInfo.password = this.user.password\n    this.changedUserInfo.mySign = this.user.mySign\n    this.fileList.push({url:'/images/'+this.user.icon})\n  },\n  methods: {\n    beforeRead(file) {\n      if (file.type !== 'image/jpeg') {\n        this.$toast('请上传 jpg 格式图片');\n        return false;\n      }\n      return true;\n    },\n    // 返回 Promise\n    asyncBeforeRead(file) {\n      return new Promise((resolve, reject) => {\n        if (file.type !== 'image/jpeg') {\n          this.$toast('请上传 jpg 格式图片');\n          reject();\n        } else {\n          let img = new File(['foo'], 'bar.jpg', {\n            type: 'image/jpeg',\n          });\n          resolve(img);\n        }\n      });\n    },\n    onClickLeft(){\n      this.$router.go(-1)\n    },\n    ensure(){\n      if (this.ensurePassword!==this.user.password){\n        this.$toast({\n          message: '两次输入的密码不一致',\n          icon: 'cross',\n          type: 'fail',\n        })\n        this.ensurePassword = ''\n      }\n    },\n    submit(){\n      console.log('提交')\n      console.log(this.changedUserInfo)\n    }\n  },\n  computed:{\n    ...mapState(['user'])\n  }\n}\n</script>\n\n<style scoped>\n.van-cell{\n  margin-bottom: 10px;\n}\n</style>\n"]}]}