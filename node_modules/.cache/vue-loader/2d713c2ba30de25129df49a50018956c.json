{"remainingRequest":"/Users/lqd/WebstormProjects/warm/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lqd/WebstormProjects/warm/src/views/my/setting/UpdateInfo.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lqd/WebstormProjects/warm/src/views/my/setting/UpdateInfo.vue","mtime":1618586057215},{"path":"/Users/lqd/WebstormProjects/warm/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lqd/WebstormProjects/warm/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/lqd/WebstormProjects/warm/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lqd/WebstormProjects/warm/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7Y3JlYXRlTmFtZXNwYWNlZEhlbHBlcnN9IGZyb20gJ3Z1ZXgnCmltcG9ydCB7YnVzfSBmcm9tICJAL2FwaS9pbmZvIjsKY29uc3QgeyBtYXBTdGF0ZSB9ID0gY3JlYXRlTmFtZXNwYWNlZEhlbHBlcnMoJ3dhcm0nKQpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlVwZGF0ZUluZm8iLAogIGRhdGEoKXsKICAgIHJldHVybnsKICAgICAgYW5HZW5kZXI6bnVsbCwKICAgICAgY2hhbmdlZFVzZXJJbmZvOiB7aWQ6IDAsaWNvbjogJycsdXNlcm5hbWU6JycsZ2VuZGVyOifnlLcnLHNpZ246Jyd9LAogICAgICBlbnN1cmVQYXNzd29yZDogJycsCiAgICAgIGZpbGVMaXN0OiBbXSwKICAgICAgaXNTaG93UGlja2VyOiBmYWxzZSwKCiAgICAgIG1pbkRhdGU6IG5ldyBEYXRlKDE5NjAsIDAsIDEpLAogICAgICBtYXhEYXRlOiBuZXcgRGF0ZSgyMDI1LCAxMCwgMSksCiAgICAgIGN1cnJlbnREYXRlOiBudWxsLAogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIGNvbnN0IG5ld0RhdGUgPSBuZXcgRGF0ZSgpCiAgICB0aGlzLmN1cnJlbnREYXRlID0gbmV3IERhdGUobmV3RGF0ZS5nZXRGdWxsWWVhcigpLG5ld0RhdGUuZ2V0TW9udGgoKSxuZXdEYXRlLmdldERhdGUoKSkKICB9LAogIG1vdW50ZWQoKSB7CgogICAgYnVzLiRvbignc2V0SWNvbicsKGRhdGEpID0+IHsKICAgICAgY29uc29sZS5sb2coZGF0YSkKICAgICAgdGhpcy5jaGFuZ2VkVXNlckluZm8uaWNvbiA9IGRhdGEKICAgIH0pCiAgICB0aGlzLiRyZWZzLm1hbi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnYmxhY2snCiAgICB0aGlzLiRyZWZzLm1hbi5zdHlsZS5jb2xvciA9ICd3aGl0ZScKICAgIGlmICh0aGlzLnVzZXIuZ2VuZGVyID09PSfnlLcnKXsKICAgICAgdGhpcy5hbkdlbmRlciA9ICflpbMnCiAgICB9IGVsc2UgaWYgKHRoaXMudXNlci5nZW5kZXIgPT09ICflpbMnKXsKICAgICAgdGhpcy5hbkdlbmRlciA9ICfnlLcnCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBjaGFuZ2VHZW5kZXIoZGF0YSl7CiAgICAgIGlmIChkYXRhPT09J21hbicpewogICAgICAgIHRoaXMuJHJlZnMubWFuLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdibGFjaycKICAgICAgICB0aGlzLiRyZWZzLm1hbi5zdHlsZS5jb2xvciA9ICd3aGl0ZScKICAgICAgICB0aGlzLiRyZWZzLndvbWVuLnN0eWxlLmNvbG9yID0gJ2JsYWNrJwogICAgICAgIHRoaXMuJHJlZnMud29tZW4uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3doaXRlJwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJHJlZnMubWFuLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICd3aGl0ZScKICAgICAgICB0aGlzLiRyZWZzLm1hbi5zdHlsZS5jb2xvciA9ICdibGFjaycKICAgICAgICB0aGlzLiRyZWZzLndvbWVuLnN0eWxlLmNvbG9yID0gJ3doaXRlJwogICAgICAgIHRoaXMuJHJlZnMud29tZW4uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ2JsYWNrJwogICAgICB9CiAgICB9LAogICAgb25DbGlja0xlZnQoKXsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9hY2NvdW50JykKICAgIH0sCiAgICBzdWJtaXQoKXsKICAgICAgY29uc29sZS5sb2coJ+aPkOS6pCcpCiAgICAgIGNvbnNvbGUubG9nKHRoaXMuY2hhbmdlZFVzZXJJbmZvKQogICAgfSwKICAgIHNlbGVjdEljb24oKXsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9pY29uJykKICAgIH0sCiAgICBjb25maXJtVGltZSgpewogICAgICBjb25zb2xlLmxvZyh0aGlzLmN1cnJlbnREYXRlLmdldEZ1bGxZZWFyKCkpCiAgICAgIHRoaXMuaXNTaG93UGlja2VyPWZhbHNlCiAgICB9CiAgfSwKICBjb21wdXRlZDp7CiAgICAuLi5tYXBTdGF0ZShbJ3VzZXInXSkKICB9Cn0K"},{"version":3,"sources":["UpdateInfo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"UpdateInfo.vue","sourceRoot":"src/views/my/setting","sourcesContent":["<template>\n  <div>\n    <van-nav-bar\n        title=\"修改资料\"\n        left-text=\"返回\"\n        left-arrow\n        @click-left=\"onClickLeft\"\n    />\n    <div style=\"text-align:center \">\n      <van-image\n          class=\"user-icon\"\n          round\n          width=\"10rem\"\n          height=\"10rem\"\n          fit=\"cover\"\n          src=\"https://img01.yzcdn.cn/vant/cat.jpeg\"\n          @click=\"selectIcon\"\n      />\n    </div>\n    <div class=\"card area-Info\">\n      <p>\n        <span class=\"info-label\">昵称</span><input class=\"form-control\" placeholder=\"请输入昵称\"/>\n      </p>\n      <p>\n        <span class=\"gender\">性别</span>\n        <input v-model=\"changedUserInfo.gender\" type=\"button\" class=\"btn sex-btn mr-2\" ref=\"man\" @click=\"changeGender('man')\"/>\n        <input v-model=\"anGender\" class=\"btn sex-btn\" ref=\"women\" type=\"button\" @click=\"changeGender('women')\"/>\n      </p>\n      <p>\n        <span class=\"info-label\">生日</span>\n        <input type=\"text\" class=\"form-control\" placeholder=\"选择生日\" @focus=\"isShowPicker=true\"/>\n        <van-popup\n            v-model=\"isShowPicker\"\n            position=\"bottom\"\n            :style=\"{ height: '40%' }\">\n          <van-datetime-picker\n              v-model=\"currentDate\"\n              type=\"date\"\n              title=\"选择年月日\"\n              :min-date=\"minDate\"\n              :max-date=\"maxDate\"\n              @confirm=\"confirmTime\"\n              @cancel=\"isShowPicker=false\"\n          />\n        </van-popup>\n      </p>\n      <div class=\"input-group\">\n        <span class=\"info-label\" style=\"height: 1.3rem;margin-top: 0.5rem;padding-top: 0\">签名</span>\n        <input type=\"text\" v-model=\"changedUserInfo.sign\" class=\"form-control info-sign\" placeholder=\"请输入签名\" aria-describedby=\"basic-addon2\">\n        <div class=\"input-group-append\">\n          <span class=\"input-group-text\" id=\"basic-addon2\">{{ changedUserInfo.sign.length }}/15</span>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {createNamespacedHelpers} from 'vuex'\nimport {bus} from \"@/api/info\";\nconst { mapState } = createNamespacedHelpers('warm')\nexport default {\n  name: \"UpdateInfo\",\n  data(){\n    return{\n      anGender:null,\n      changedUserInfo: {id: 0,icon: '',username:'',gender:'男',sign:''},\n      ensurePassword: '',\n      fileList: [],\n      isShowPicker: false,\n\n      minDate: new Date(1960, 0, 1),\n      maxDate: new Date(2025, 10, 1),\n      currentDate: null,\n    }\n  },\n  created() {\n    const newDate = new Date()\n    this.currentDate = new Date(newDate.getFullYear(),newDate.getMonth(),newDate.getDate())\n  },\n  mounted() {\n\n    bus.$on('setIcon',(data) => {\n      console.log(data)\n      this.changedUserInfo.icon = data\n    })\n    this.$refs.man.style.backgroundColor = 'black'\n    this.$refs.man.style.color = 'white'\n    if (this.user.gender ==='男'){\n      this.anGender = '女'\n    } else if (this.user.gender === '女'){\n      this.anGender = '男'\n    }\n  },\n  methods: {\n    changeGender(data){\n      if (data==='man'){\n        this.$refs.man.style.backgroundColor = 'black'\n        this.$refs.man.style.color = 'white'\n        this.$refs.women.style.color = 'black'\n        this.$refs.women.style.backgroundColor = 'white'\n      } else {\n        this.$refs.man.style.backgroundColor = 'white'\n        this.$refs.man.style.color = 'black'\n        this.$refs.women.style.color = 'white'\n        this.$refs.women.style.backgroundColor = 'black'\n      }\n    },\n    onClickLeft(){\n      this.$router.push('/account')\n    },\n    submit(){\n      console.log('提交')\n      console.log(this.changedUserInfo)\n    },\n    selectIcon(){\n      this.$router.push('/icon')\n    },\n    confirmTime(){\n      console.log(this.currentDate.getFullYear())\n      this.isShowPicker=false\n    }\n  },\n  computed:{\n    ...mapState(['user'])\n  }\n}\n</script>\n\n<style scoped>\n.user-icon{\n  margin-top: 3rem;\n  box-shadow: 0 0 10px #888888;\n}\n.area-Info{\n  width: 80%;\n  margin: 2rem auto;\n  padding-top: 1.3rem;\n  border-radius: 2rem;\n  box-shadow: 0 0 10px #888888;\n}\n.gender{\n  color: black;\n  padding-left: 2rem;\n  padding-right: 2.4rem;\n}\n.sex-btn{\n  font-size: 14px;\n  border-radius: 1rem;\n  width: 3.6rem;\n  border: black 1px solid;\n}\n.submit-btn{\n  height: 3rem;\n  border-radius: 1.5rem;\n  margin:0 auto;\n}\n.form-control{\n  display: inline-block;\n  width: 60%;\n  border: 0!important;\n}\n.input-group{\n  margin-bottom: 0;\n  padding-bottom: 1rem;\n  width: 96%;\n}\n.form-control:focus{\n  box-shadow: none!important;\n}\n.input-group-text{\n  background: white;\n  border: 0;\n}\n.info-label{\n  border-right: #888888 1px solid;\n  padding-right: 2rem;\n  padding-left: 2rem;\n}\n</style>\n\n"]}]}